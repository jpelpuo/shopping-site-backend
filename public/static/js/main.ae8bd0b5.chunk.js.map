{"version":3,"sources":["context/auth-context.js","pages/Auth.js","pages/Register.js","context/product-context.js","components/NavBar.js","layout/MainLayout.js","components/ProductItem.js","components/Products.js","pages/Main/Home.js","data/products.js","pages/Main/ViewProduct.js","components/CartItem.js","pages/Main/Cart.js","components/WishlistItem.js","pages/Main/Wishlist.js","helpers/formatDate.js","components/HistoryItem.js","pages/Main/History.js","App.js","serviceWorker.js","index.js"],"names":["React","createContext","accessToken","refreshToken","login","userId","cart","history","wishlist","logout","Text","Form","Row","Label","AuthForm","styled","FormText","FormLabel","FormRow","RegisterLink","Link","AuthPage","emailEl","useRef","passwordEl","auth","useContext","AuthContext","useState","loading","setLoading","error","setError","handleSubmit","event","a","preventDefault","email","current","value","password","requestBody","fetch","method","headers","body","JSON","stringify","response","json","responseData","message","onSubmit","className","Alert","variant","Group","controlId","Control","type","ref","Button","Spinner","animation","size","as","to","RegisterForm","LoginLink","RegisterPage","complete","setComplete","nameEl","confirmPasswordEl","name","confirmPassword","split","firstName","rest","lastName","products","cartItems","addToCart","productId","removeFromCart","addToWishlist","removeFromWishlist","productid","searchedProducts","searchInitiated","search","productName","clearCart","clearWishlist","checkout","dataToSave","clearHistory","NavLink","StyledSearchForm","StyledFormControl","FormControl","CartIcon","div","CartNumber","span","NavBar","ProductContext","searchEl","Navbar","collapseOnSelect","expand","bg","fixed","Brand","href","Toggle","aria-controls","Collapse","id","Nav","inline","searchString","handleSearch","placeholder","onChange","length","onClick","MainContainer","Container","MainContent","MainLayout","children","fluid","Img","Card","ProductWrapper","ProductImage","DetailsWrapper","ProductName","ProductPrice","CardActions","ProductStatus","ProductItem","product","useHistory","style","color","textDecoration","src","image","Body","currency","price","inStock","title","push","disabled","includes","ProductsView","MainProducts","Products","props","map","index","key","HomePageWrapper","HomePage","category","description","condition","Subtitle","Title","MainWrapper","ProductDetails","ProductCategory","ProductDescriptionWrapper","ProductDescriptionList","ul","ProductDescritpionListItem","li","ProductCondition","ProductActions","ActionButton","ViewProduct","useParams","token","filter","productInformation","width","listItem","handleAddToCart","handleRemoveFromCart","handleAddToWishlist","CartItemWrapper","ItemImage","ItemDetailsWrapper","ItemName","ItemStatus","ItemUnitPrice","Actions","RemoveButton","CartItem","height","CartWrapper","CartAndActionsWrapper","CartItemsView","ActionsView","CheckoutButton","ClearButton","Cart","items","setItems","totalAmount","setTotalAmount","checkedOut","setCheckedOut","show","setShow","cardDetailsEl","handleClose","useEffect","itemsToDisplay","item","reduce","acc","handleCheckout","cardDetails","date","Date","setTimeout","Modal","onHide","Header","closeButton","Footer","WishlistItemWrapper","WishlistItem","WishlistWrapper","WishlistAndActionsWrapper","WishlistItemsView","WishlistPage","wishlistCleared","setWishlistCleared","formatDate","dateObject","year","days","months","day","getDay","dayDate","getDate","month","getMonth","fullYear","getFullYear","HistoryItemWrapper","PurchaseDate","CardDetails","ItemsPurchasedWrapper","ItemsPurchasedList","ListItem","TotalAmount","HistoryItem","purchaseHistory","HistoryWrapper","MainView","HistoryView","PurchaseHistory","historyCleared","setHistoryCleared","setPurchaseHistory","historyItem","App","existingAccessToken","localStorage","getItem","existingRefreshToken","data","setAccessToken","setRefreshToken","setCartItems","setWishlist","setHistory","setSearchedProducts","setSearchInitiated","cartInfo","parse","sessionStorage","Response","setItem","Provider","removeItem","productSearchString","productsFound","toLowerCase","tempArray","splice","indexOf","purchaseData","path","exact","component","render","Home","Wishlist","Boolean","window","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.ae8bd0b5.chunk.js","sourcesContent":["import React from 'react';\n\nexport default React.createContext({\n    accessToken: null,\n    refreshToken: null,\n    login: (accessToken, refreshToken, userId, cart, history, wishlist) => { },\n    logout: () => { }\n})","import React, { useRef, useContext, useState } from 'react';\nimport { Form, Button, Alert, Spinner } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport AuthContext from '../context/auth-context'\n\nconst { Text, Row, Label } = Form;\n\nconst AuthForm = styled(Form)`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 40%;\n\n    @media screen and (max-width: 768px){\n        width: 90%;\n    }\n`;\n\nconst FormText = styled(Text)`\n    line-height: 1.5;\n    vertical-align: center;\n`;\n\nconst FormLabel = styled(Label)`\n    float: left;\n`;\n\nconst FormRow = styled(Row)`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n`;\n\nconst RegisterLink = styled(Link)``;\n\n\nconst AuthPage = () => {\n    const emailEl = useRef();\n    const passwordEl = useRef();\n    const auth = useContext(AuthContext);\n    const [loading, setLoading] = useState(false);\n\n    const [error, setError] = useState(null);\n\n    // const makeId = (length) => {\n    //     let result = '';\n    //     const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    //     const charactersLength = characters.length;\n\n    //     for (var i = 0; i < charactersLength; i++) {\n    //         result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    //     }\n    //     return result;\n    // }\n\n    const handleSubmit = async event => {\n        event.preventDefault();\n\n        setLoading(true);\n        const email = emailEl.current.value;\n        const password = passwordEl.current.value;\n\n        if (!email && !password) {\n            return;\n        }\n\n        const requestBody = {\n            email: email,\n            password: password\n        }\n\n        const response = await fetch('https://secret-anchorage-57474.herokuapp.com/api/user/auth', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(requestBody)\n        });\n\n        const responseData = await response.json();\n\n        if (responseData.error) {\n            setError(responseData.error.message);\n            setLoading(false);\n            return;\n        }\n\n\n        const { accessToken, refreshToken, userId, cart, wishlist, history } = responseData;\n        auth.login(accessToken, refreshToken, userId, cart, history, wishlist);\n    }\n    return (\n        <AuthForm onSubmit={handleSubmit} className=\"mx-auto border p-3 mt-5\">\n            <h3>Login</h3>\n            {\n                error && <Alert variant=\"danger\">{error}</Alert>\n            }\n            <Form.Group controlId=\"formBasicEmail\">\n                <FormLabel>Email</FormLabel>\n                <Form.Control type=\"email\" ref={emailEl} />\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicPassword\">\n                <FormLabel className=\"\">Password</FormLabel>\n                <Form.Control type=\"password\" ref={passwordEl} />\n            </Form.Group>\n\n            <FormRow className=\"\">\n                <Button variant=\"primary\" type=\"submit\">\n                    {\n                        loading ?\n                        <>\n                            <Spinner animation=\"border\" size=\"sm\" as=\"span\"/>\n                             Signing in\n                         </>\n                         : \"Login\"\n                    }\n                </Button>\n                <FormText className=\"text-muted align-middle\">\n                    Dont have an account?\n                <RegisterLink to=\"/register\"> Register here!</RegisterLink>\n                </FormText>\n            </FormRow>\n        </AuthForm>\n    );\n}\n\nexport default AuthPage;","import React, { useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { Form, Col, Button, Alert, Spinner } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\n\nconst { Label, Text, Row } = Form;\nconst RegisterForm = styled(Form)`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 35%;\n\n    @media screen and (max-width: 768px){\n        width: 90%;\n    }\n`;\n\nconst FormLabel = styled(Label)`\n    float: left;\n`;\n\nconst FormRow = styled(Row)`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n`;\n\nconst FormText = styled(Text)`\n    line-height: 1.5;\n    vertical-align: center;\n`;\n\nconst LoginLink = styled(Link)``;\n\nconst RegisterPage = () => {\n    const [error, setError] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [complete, setComplete] = useState(false);\n\n    const nameEl = useRef();\n    const emailEl = useRef();\n    const passwordEl = useRef();\n    const confirmPasswordEl = useRef();\n\n    const handleSubmit = async event => {\n        event.preventDefault();\n\n        setLoading(true);\n\n        const name = nameEl.current.value;\n        const email = emailEl.current.value;\n        const password = passwordEl.current.value;\n        const confirmPassword = confirmPasswordEl.current.value;\n\n\n        if (!name || !email || !password || !confirmPassword) {\n            return;\n        }\n\n        if (password !== confirmPassword) {\n            setError(\"Passwords do not match\");\n            return;\n        }\n\n        const [firstName, ...rest] = name.split(' ');\n        const [lastName] = rest;\n\n        const requestBody = {\n            firstName: firstName,\n            lastName: lastName,\n            email: email,\n            password: password\n        }\n\n        const response = await fetch('https://secret-anchorage-57474.herokuapp.com/api/user/register', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(requestBody)\n        });\n\n        const responseData = await response.json();\n\n        if (responseData.error) {\n            setError(responseData.error.message);\n            setLoading(false);\n            return;\n        }\n\n        setComplete(true);\n        setLoading(false);\n        setError(null);\n    }\n\n    return (\n        <RegisterForm className=\"mx-auto border p-4 mt-5\" onSubmit={handleSubmit}>\n            <h3>Sign Up!</h3>\n            {\n                error && <Alert variant=\"danger\">{error}</Alert>\n            }\n            {\n                complete && <Alert variant=\"success\">User added! You can now login</Alert>\n            }\n            <Form.Group controlId=\"formBasicEmail\">\n                <FormLabel>Name</FormLabel>\n                <Form.Control type=\"text\" ref={nameEl} />\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicEmail\">\n                <FormLabel>Email</FormLabel>\n                <Form.Control type=\"email\" ref={emailEl} />\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicEmail\">\n                <FormLabel>Password</FormLabel>\n                <Form.Control type=\"password\" ref={passwordEl} />\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicPassword\">\n                <FormLabel className=\"\">Confirm Password</FormLabel>\n                <Form.Control type=\"password\" ref={confirmPasswordEl} />\n            </Form.Group>\n\n            <FormRow>\n                <Button variant=\"primary\" type=\"submit\">\n                    {\n                        loading\n                            ?\n                            <>\n                                <Spinner as=\"span\" size=\"sm\" animation=\"border\" />\n                             Adding user\n                            </>\n                            : \"Register\"\n                    }\n                </Button>\n                <FormText className=\"text-muted align-middle\">\n                    Already have an account?\n                <LoginLink to=\"/auth\"> Log in!</LoginLink>\n                </FormText>\n\n            </FormRow>\n        </RegisterForm>\n    );\n}\n\nexport default RegisterPage;","import React from 'react';\n\nexport default React.createContext({\n    products: [],\n    cartItems: [],\n    wishlist: [],\n    addToCart: (productId) => { },\n    removeFromCart: (productId) => { },\n    addToWishlist: (productId) => { },\n    removeFromWishlist: (productid) => { },\n    searchedProducts: [],\n    searchInitiated: false,\n    search: (productName) => { },\n    clearCart: () => { },\n    clearWishlist: () => { },\n    checkout: (dataToSave) => { },\n    history: [],\n    clearHistory: () => { }\n})","import React, { useContext, useRef } from 'react';\nimport { Form, Navbar, Button, Nav, FormControl } from 'react-bootstrap';\nimport AuthContext from '../context/auth-context';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { FaSearch } from 'react-icons/fa';\nimport { MdShoppingCart } from 'react-icons/md';\nimport ProductContext from '../context/product-context';\n\nconst NavLink = styled(Link)`\n    text-decoration: none !important;\n    color: lightgray;\n`;\n\nconst StyledSearchForm = styled(Form)`\n    margin: 0 auto;\n    width: 60%;\n\n    @media screen and (max-width: 768px){\n        margin: 0.8rem 0;\n        width: 100%;\n        display: flex;\n        flex-direction: row;\n    }\n`;\n\nconst StyledFormControl = styled(FormControl)`\n    width: 90% !important;\n    margin-right: 0.8rem;\n\n    @media screen and (max-width: 768px){\n        width: 85% !important;\n    }\n`;\n\nconst CartIcon = styled.div`\n    display: flex;\n    flex-flow: row nowrap;\n    margin: 0 auto;\n\n    @media screen and (max-width: 768px){\n        margin: 1rem 0;\n    }\n`;\n\nconst CartNumber = styled.span`\n    display: inline-block;\n    width: 1.5rem;\n    height: 1.55rem;\n    text-align: center;\n`;\n\nconst NavBar = () => {\n    const { accessToken, logout } = useContext(AuthContext);\n    const { cartItems, search } = useContext(ProductContext);\n    const searchEl = useRef();\n\n    const handleLogout = () => {\n        logout();\n    }\n\n    const handleSearch = event => {\n        event.preventDefault();\n        const searchString = searchEl.current.value;\n        search(searchString);\n    }\n\n    const handleChange = () => {\n        const searchString = searchEl.current.value;\n        if(searchString === \"\"){\n            search(searchString);\n        }\n    }\n\n    return (\n        <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\" fixed=\"top\">\n            <Navbar.Brand href=\"#home\">Buy Stuff From Here !</Navbar.Brand>\n            <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n            <Navbar.Collapse id=\"responsive-navbar-nav\">\n                <Nav className=\"mr-auto\">\n                    <NavLink to=\"/home\">Home</NavLink>\n                </Nav>\n                {\n                    accessToken &&\n                    <>\n                        <Nav className=\"mr-auto\">\n                            <NavLink to=\"/wishlist\">Wishlist</NavLink>\n                        </Nav>\n                        <Nav>\n                            <NavLink to=\"/history\">Purchase history</NavLink>\n                        </Nav>\n                    </>\n                }\n\n                <StyledSearchForm inline className=\"\" onSubmit={(event) => handleSearch(event)}>\n                    <StyledFormControl\n                        type=\"text\"\n                        placeholder=\"Search products\"\n                        className=\"\"\n                        onChange={handleChange}\n                        ref={searchEl}/>\n                    <Button variant=\"outline-info\" type=\"submit\">\n                        <FaSearch />\n                    </Button>\n                </StyledSearchForm>\n                <CartIcon>\n                    <Nav className=\"mr-auto\">\n                        <NavLink to=\"/cart\">\n                            <MdShoppingCart size=\"1.5rem\" />\n                            <CartNumber className=\"rounded-circle bg-danger\">{cartItems.length}</CartNumber>\n                        </NavLink>\n                    </Nav>\n                </CartIcon>\n\n                <Nav>\n                    {\n                        accessToken && <Button className=\"ml-2\" onClick={handleLogout}>Logout</Button>\n                    }\n                    {\n                        !accessToken && <NavLink className=\"btn btn-primary\" to=\"/auth\">Login</NavLink>\n                    }\n                </Nav>\n            </Navbar.Collapse>\n        </Navbar>\n    );\n}\n\nexport default NavBar;","import React, { useContext } from 'react';\nimport NavBar from '../components/NavBar';\nimport { Container } from 'react-bootstrap';\nimport styled from 'styled-components';\nimport ProductContext from '../context/product-context';\n\nconst MainContainer = styled(Container)`\n    padding: 0;\n`;\n\nconst MainContent = styled.div`\n    display: flex;\n    width: 100%;\n    margin-top: 5rem;\n`;\n\nconst MainLayout = ({ children }) => {\n    return (\n        <MainContainer fluid>\n            <NavBar />\n            <MainContent className=\"\">\n                {children}\n            </MainContent>\n        </MainContainer>\n    );\n}\n\nexport default MainLayout;","import React, { useState, useEffect, useContext } from 'react';\nimport styled from 'styled-components';\nimport { Card, Button } from 'react-bootstrap';\nimport { Link, useHistory } from 'react-router-dom';\nimport { MdAddShoppingCart, MdRemoveShoppingCart, MdAddCircle } from 'react-icons/md';\nimport ProductContext from '../context/product-context';\nimport AuthContext from '../context/auth-context';\n\nconst { Img } = Card;\n\nconst ProductWrapper = styled(Card)`\n    display: flex;\n    flex-flow: column nowrap;\n    width: 17%;\n    margin: 1rem 1rem;\n    box-sizing: border-box;\n    transition: all 0.2s;\n\n\n    @media screen and (max-width: 768px){\n        width: 80%;\n        height: 10% !important;\n        margin: 0.5rem auto;\n    }\n\n    &:hover{\n        transform: scale(1.05, 1.05)\n    }\n`;\n\nconst ProductImage = styled(Img)`\n    height: 270px;  \n\n    @media screen and (max-width: 768px){\n        height: 300px;\n    }\n`;\nconst DetailsWrapper = styled.div`\n    display: flex;\n    flex-flow: column nowrap;\n`;\nconst ProductName = styled.span`\n    font-weight: bold;\n`;\nconst ProductPrice = styled.span`\n    font-weight: lighter;\n`;\n\nconst CardActions = styled.div`\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: flex-start;\n`;\n\nconst ProductStatus = styled.span`\n    font-weight: light;\n`;\n\n\nconst ProductItem = ({ product }) => {\n    const { addToCart, cartItems, removeFromCart, addToWishlist } = useContext(ProductContext);\n    const { accessToken } = useContext(AuthContext);\n    const history = useHistory();\n\n    const handleAddtoCart = productId => {\n        if (!accessToken) {\n            history.push('/auth');\n            return;\n        }\n        addToCart(productId);\n    }\n\n    const handleRemoveFromCart = productId => {\n        removeFromCart(productId);\n    }\n\n    const handleAddToWishlist = productId => {\n        addToWishlist(productId);\n    }\n\n    return (\n        <ProductWrapper className=\"\">\n            <Link\n                to={`/product/${product.id}`}\n                style={{ color: \"black\", textDecoration: \"none\" }}>\n                <ProductImage src={product.image} variant=\"top\" />\n            </Link>\n            <Card.Body>\n                <DetailsWrapper>\n                    <ProductName>{product.name}</ProductName>\n                    <ProductPrice><span className=\"mr-1\">{product.currency}</span>{product.price}</ProductPrice>\n                    <ProductStatus className={product.inStock ? \"text-success\" : \"text-danger\"}>\n                        {product.inStock ? \"In stock\" : \"Out of stock\"}\n                    </ProductStatus>\n                </DetailsWrapper>\n                <CardActions>\n                    <Button\n                        variant=\"primary\"\n                        size=\"sm\"\n                        title=\"Add to cart\"\n                        onClick={() => handleAddtoCart(product.id)}\n                        className=\"mr-1\">\n                        <MdAddShoppingCart />\n                    </Button>\n                    <Button\n                        variant=\"danger\"\n                        size=\"sm\"\n                        title=\"Remove from cart\"\n                        className=\"mr-1\"\n                        onClick={() => handleRemoveFromCart(product.id)}\n                        disabled={cartItems.includes(product.id) ? false : true}>\n                        <MdRemoveShoppingCart />\n                    </Button>\n                    {\n                        accessToken &&\n                        <Button variant=\"secondary\" size=\"sm\" onClick={() => handleAddToWishlist(product.id)}>\n                            <MdAddCircle />\n                            <span className=\"ml-1\">Add to wishlist</span>\n                        </Button>\n                    }\n                </CardActions>\n            </Card.Body>\n        </ProductWrapper>\n    );\n}\n\nexport default ProductItem;","import React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport ProductItem from './ProductItem';\nimport ProductContext from '../context/product-context';\n\n\nconst ProductsView = styled.div`\n    display: flex;\n    flex-flow:row wrap;\n    width: 100%;\n`;\n\nconst MainProducts = styled.div`\n    display: flex;\n    flex-flow:row wrap;\n    justify-content: center;\n    width: 100%;\n\n    @media screen and (max-width: 768px){\n        flex-flow:column nowrap;\n        justify-content: center;\n    }\n`;\n\nconst Products = (props) => {\n\n    const { products, searchedProducts} = useContext(ProductContext);\n    return (\n        <ProductsView>\n            <h2 className=\"ml-5 font-weight-bolder\">Browse All Products</h2>\n            <MainProducts className=\"\">\n                {\n                    searchedProducts.length !== 0\n                        ? searchedProducts.map((product, index) => {\n                            return <ProductItem key={index} product={product} {...props} />\n                        })\n                        : products.map((product, index) => {\n                            return <ProductItem key={index} product={product} {...props} />\n                        })\n                // {\n                //     searchedProducts.length === 0 &&\n                    \n                }\n            </MainProducts>\n        </ProductsView>\n    );\n}\n\nexport default Products;","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport Products from '../../components/Products'\n\n\nconst HomePageWrapper = styled.div`\n    width: 100vw;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n`;\n\nconst HomePage = (props) => {\n\n    return (\n        <HomePageWrapper>\n            <Products {...props} />\n        </HomePageWrapper>\n    );\n}\n\nexport default HomePage;","export const products = [\n    {\n        id: \"1234566\",\n        name: \"Apple iPhone 11\",\n        image: \"https://store.storeimages.cdn-apple.com/4668/as-images.apple.com/is/iphone11-select-2019-family_GEO_EMEA?wid=882&amp;hei=1058&amp;fmt=jpeg&amp;qlt=80&amp;op_usm=0.5,0.5&amp;.v=1567022219953\",\n        price: 2000.00,\n        category: \"Computer electronics\",\n        inStock: true,\n        description: [\"Apple device\", \"Great smartphone\", \"Runs iOS\", \"Great build quality\"],\n        condition: \"New\",\n        currency: \"GHC\"\n    },\n    {\n        id: \"1234567\",\n        name: \"Samsung Galaxy S20\",\n        image: \"https://fdn2.gsmarena.com/vv/pics/samsung/samsung-galaxy-s20-5g-r1.jpg\",\n        price: 2500.00,\n        category: \"Computer electronics\",\n        inStock: true,\n        description: [\"Samsung Device\", \"Runs Android\", \"Great build quality\", \"Great performance\"],\n        condition: \"New\",\n        currency: \"GHC\"\n    },\n    {\n        id: \"1234568\",\n        name: \"Apple iPhone 11 Pro Max\",\n        image: \"https://store.storeimages.cdn-apple.com/4668/as-images.apple.com/is/iphone-11-pro-select-2019-family_GEO_EMEA?wid=882&amp;hei=1058&amp;fmt=jpeg&amp;qlt=80&amp;op_usm=0.5,0.5&amp;.v=1567812929188\",\n        price: 4000.00,\n        category: \"Computer electronics\",\n        inStock: true,\n        description: [\"Apple device\", \"Great smartphone\", \"Runs iOS\", \"Great build quality\", \"Great Camera\"],\n        condition: \"New\",\n        currency: \"GHC\"\n    },\n    {\n        id: \"1234569\",\n        name: \"Microsoft Surface Duo\",\n        image: \"https://cdn.vox-cdn.com/thumbor/bX8IzXC5O0uKPCLwIYBPnnXi_bg=/0x0:6000x6000/1200x0/filters:focal(0x0:6000x6000):no_upscale()/cdn.vox-cdn.com/uploads/chorus_asset/file/21729329/Feature_006_Text.jpg\",\n        price: 5000.00,\n        category: \"Computer electronics\",\n        inStock: true,\n        description: [\"Microsoft Surface device\", \"Dual Screen\", \"Runs Android\", \"Good for productivity\"],\n        condition: \"New\",\n        currency: \"GHC\"\n    },\n    {\n        id: \"1234570\",\n        name: \"Microsoft Surface Headphones 2\",\n        image: \"https://cdn.vox-cdn.com/thumbor/VjbdHgfj-61DunbYKXVF7RR_jEQ=/1400x1400/filters:format(jpeg)/cdn.vox-cdn.com/uploads/chorus_asset/file/19993344/C0E84DFF_8EB1_403C_9CA6_B8B7FF1B8EEF.jpeg\",\n        price: 1500.00,\n        category: \"Noise Cancelling Headphones\",\n        inStock: true,\n        description: [\"Microsoft Surface device\", \"Noise cancelling headphones\", \"Great build quality\", \"Great sound\"],\n        condition: \"New\",\n        currency: \"GHC\"\n    },\n    {\n        id: \"1234571\",\n        name: \"Sony WH-1000XM4\",\n        image: \"https://cdn0.vox-cdn.com/hermano/verge/product/image/9373/image__17_.png\",\n        price: 1800.00,\n        category: \"Noise Cancelling Headphones\",\n        inStock: true,\n        description: [\"Sony device\", \"Best active noise cancellation\", \"Long-lasting battery life\", \"Great sound\"],\n        condition: \"New\",\n        currency: \"GHC\"\n    },\n    {\n        id: \"1234572\",\n        name: \"Apple Airpods Pro\",\n        image: \"https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/MWP22_AV1?wid=1144&hei=1144&fmt=jpeg&qlt=80&op_usm=0.5,0.5&.v=1591634652000\",\n        price: 1000.00,\n        category: \"Noise cancelling earbuds\",\n        inStock: true,\n        description: [\"Apple device\", \"Active noise cancellation\", \"Great sound\", \"Great fit\"],\n        condition: \"New\",\n        currency: \"GHC\"\n    },\n    {\n        id: \"1234573\",\n        name: \"Apple Watch Series 5\",\n        image: \"https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/MWUR2_VW_PF+watch-40-alum-gold-cell-5s_VW_PF_WF_CO?wid=1400&hei=1400&trim=1,0&fmt=p-jpg&qlt=80&op_usm=0.5,0.5&.v=1566450019949,1569365646259\",\n        price: 2000.00,\n        category: \"Computer electronics\",\n        inStock: true,\n        description: [\"Apple device\", \"Great screen\", \"Great fit\", \"Great battery life\"],\n        condition: \"New\",\n        currency: \"GHC\"\n    },\n    {\n        id: \"1234574\",\n        name: 'Apple Macbook Pro 16\"',\n        image: \"https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/mbp16touch-space-select-201911?wid=1808&hei=1686&fmt=jpeg&qlt=80&.v=1572825197207\",\n        price: 11120.00,\n        category: \"Computer electronics\",\n        inStock: true,\n        description: [\"Apple device\", \"Great build\", \"Great performance\", \"Great typing experience\"],\n        condition: \"New\",\n        currency: \"GHC\"\n    },\n    {\n        id: \"1234575\",\n        name: \"Microsoft Surface Book 3\",\n        image: \"https://cdn.shopify.com/s/files/1/0036/4806/1509/products/m100001532_29f95740-7a5e-4aae-8845-2c0911ff5ba0_1000x1000@2x.jpg?v=1588852855\",\n        price: 10000,\n        category: \"Computer electronics\",\n        inStock: true,\n        description: [\"Microsoft Surface device\", \"Detachable screen\", \"Great build quality\", \"Great typing experience\"],\n        condition: \"New\",\n        currency: \"GHC\"\n    }\n]","import React, { useState, useEffect, useContext } from 'react';\nimport styled from 'styled-components';\nimport { Card, Button } from 'react-bootstrap';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { products } from '../../data/products';\nimport { MdAddShoppingCart, MdRemoveShoppingCart, MdAddCircle } from 'react-icons/md';\nimport ProductContext from '../../context/product-context';\nimport AuthContext from '../../context/auth-context';\n\n\nconst { Img, Text, Subtitle, Title, Body } = Card;\n\nconst MainWrapper = styled.div`\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    box-sizing: border-box;\n`;\n\nconst ProductDetails = styled(Card)`\n    display: flex;\n    flex-flow: row nowrap;\n    width: 80%;\n\n    @media screen and (max-width: 768px){\n        flex-flow: column wrap\n    }\n`;\n\nconst ProductImage = styled(Img)`\n    @media screen and (max-width: 768px){\n        width: 100%;\n    }\n`;\nconst ProductName = styled(Title)``;\nconst ProductPrice = styled.span``;\nconst ProductCategory = styled.span``;\nconst ProductDescriptionWrapper = styled.div``;\nconst ProductDescriptionList = styled.ul``;\nconst ProductDescritpionListItem = styled.li``;\nconst ProductStatus = styled.span``;\nconst ProductCondition = styled.span``;\nconst ProductActions = styled.div`\n    width: 60%;\n    display: flex;\n    flex-flow: column wrap;\n`;\n\nconst ActionButton = styled(Button)`\n    margin: 0.5rem 0;\n`;\n\nconst ViewProduct = () => {\n\n    const { productId } = useParams();\n    const { addToCart, cartItems, removeFromCart, addToWishlist } = useContext(ProductContext);\n    const { token } = useContext(AuthContext);\n    const history = useHistory();\n\n    const [productInformation] = products.filter(product => {\n        return product.id === productId;\n    });\n\n    const handleAddToCart = productId => {\n        if (!token) {\n            history.push('/auth');\n            return;\n        }\n        addToCart(productId);\n    }\n\n\n    const handleRemoveFromCart = productId => {\n        removeFromCart(productId);\n    }\n\n    const handleAddToWishlist = productId => {\n        addToWishlist(productId);\n    }\n\n    return (\n        <MainWrapper>\n            <h2 className=\"ml-5 font-weight-bolder\">Product Details</h2>\n            <ProductDetails>\n                <ProductImage src={productInformation.image} variant=\"left\" width=\"600\" />\n                <Body className=\"d-flex flex-column\">\n                    <ProductName className=\"font-weight-bolder\">{productInformation.name}</ProductName>\n                    <ProductPrice>\n                        <span>{productInformation.currency}</span>\n                        {productInformation.price}\n                    </ProductPrice>\n                    <ProductCategory>\n                        {productInformation.category}\n                    </ProductCategory>\n                    <ProductCondition>\n                        <span>Condition: </span>\n                        {productInformation.condition}\n                    </ProductCondition>\n                    <ProductStatus className={productInformation.inStock ? \"text-success\" : \"text-danger\"}>\n                        {productInformation.inStock ? \"In stock\" : \"Out of stock\"}\n                    </ProductStatus>\n                    <ProductDescriptionWrapper className=\"mt-3\">\n                        <Subtitle className=\"font-weight-bolder\">About this product</Subtitle>\n                        <ProductDescriptionList>\n                            {\n                                productInformation.description.map((listItem, index) => {\n                                    return (\n                                        <ProductDescritpionListItem key={index}>\n                                            {listItem}\n                                        </ProductDescritpionListItem>\n                                    )\n                                })\n                            }\n                        </ProductDescriptionList>\n                    </ProductDescriptionWrapper>\n                    <ProductActions>\n                        <ActionButton variant=\"primary\" onClick={() => handleAddToCart(productInformation.id)}>\n                            <MdAddShoppingCart /> Add to Cart\n                            </ActionButton>\n                        <ActionButton\n                            variant=\"danger\"\n                            onClick={() => handleRemoveFromCart(productInformation.id)}\n                            disabled={cartItems.includes(productInformation.id) ? false : true}>\n                            <MdRemoveShoppingCart /> Remove from Cart\n                            </ActionButton>\n                        {\n                            token &&\n                            <ActionButton variant=\"secondary\" onClick={() => handleAddToWishlist(productInformation.id)}>\n                                <MdAddCircle /> Add to wishlist\n                            </ActionButton>\n                        }\n\n                    </ProductActions>\n                </Body>\n            </ProductDetails>\n        </MainWrapper>\n    );\n}\n\nexport default ViewProduct;","import React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport { Card, Button } from 'react-bootstrap';\nimport ProductContext from '../context/product-context';\n\nconst { Img } = Card\n\nconst CartItemWrapper = styled(Card)`\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: center;\n`;\n\nconst ItemImage = styled(Img)``;\n\nconst ItemDetailsWrapper = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n`;\n\nconst ItemName = styled.span``;\n\nconst ItemStatus = styled.span``;\n\nconst ItemUnitPrice = styled.span``;\nconst Actions = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n`;\n\nconst RemoveButton = styled(Button)``;\n\nconst CartItem = ({ product }) => {\n\n    const { removeFromCart } = useContext(ProductContext);\n\n    const handleRemove = productId => {\n        removeFromCart(productId);\n    }\n    return (\n        <CartItemWrapper className=\"my-2\">\n            <ItemImage src={product.image} variant=\"left\" width=\"180\" height=\"180\" />\n            <Card.Body>\n                <ItemDetailsWrapper className=\"\">\n                    <Card.Title>\n                        <ItemName>{product.name}</ItemName>\n                    </Card.Title>\n                    <ItemStatus className={product.inStock ? \"text-success\" : \"text-danger\"}>\n                        {product.inStock ? \"In stock\" : \"Out of stock\"}\n                    </ItemStatus>\n\n                    <ItemUnitPrice><span>Unit Price: GHC </span>{product.price}</ItemUnitPrice>\n                    <Actions className=\"\">\n                        <RemoveButton variant=\"danger\" onClick={() => handleRemove(product.id)}>\n                            Remove\n                        </RemoveButton>\n                    </Actions>\n                </ItemDetailsWrapper>\n            </Card.Body>\n        </CartItemWrapper>\n    );\n}\n\nexport default CartItem;","import React, { useState, useEffect, useContext, useRef } from 'react';\nimport styled from 'styled-components';\nimport ProductContext from '../../context/product-context';\nimport CartItem from '../../components/CartItem';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport { MdShoppingCart, MdRemoveShoppingCart } from 'react-icons/md';\n\n\n\nconst CartWrapper = styled.div`\n    display: flex;\n    flex-flow: column nowrap;\n    width: 100%;\n    justify-content: center;\n`;\n\nconst CartAndActionsWrapper = styled.div`\n    display: flex;\n    flex-direction: row;\n\n    @media screen and (max-width: 768px){\n        flex-flow: column wrap;\n    }\n`;\n\nconst CartItemsView = styled.div`\n    width: 70%;\n    justify-content: center;\n\n    @media screen and (max-width: 768px){\n        width: 80%\n    }\n`;\n\nconst ActionsView = styled.div`\n    width: 20%;\n\n    @media screen and (max-width: 768px){\n        width: 100%;\n    }\n`;\n\nconst CheckoutButton = styled(Button)``;\nconst ClearButton = styled(Button)``;\n\nconst Cart = () => {\n    const [items, setItems] = useState([]);\n    const [totalAmount, setTotalAmount] = useState(null);\n    const [checkedOut, setCheckedOut] = useState(false);\n    const [show, setShow] = useState(false);\n\n    const cardDetailsEl = useRef();\n\n\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n\n\n    const { cartItems, products, clearCart, checkout } = useContext(ProductContext);\n\n    useEffect(() => {\n        const itemsToDisplay = cartItems\n            .map(item => {\n                return products.filter(product => {\n                    return item === product.id;\n                })\n            })\n            .map(item => {\n                return item[0];\n            })\n\n        setItems([...itemsToDisplay]);\n\n        const totalAmount = itemsToDisplay.reduce((acc, current) => {\n            return acc + current.price\n        }, 0);\n\n        setTotalAmount(totalAmount);\n\n    }, [cartItems]);\n\n    const handleClearCart = () => {\n        clearCart();\n    }\n\n    const handleCheckout = () => {\n        const cardDetails = cardDetailsEl.current.value;\n        const currentDate = new Date();\n        const dataToSave = {\n            date: currentDate,\n            items: [...items],\n            cardDetails,\n            totalAmount\n        }\n\n        checkout(dataToSave);\n        setCheckedOut(true);\n        setShow(false);\n\n        setTimeout(() => {\n            setCheckedOut(false);\n            clearCart();\n        }, 5000)\n    }\n\n    return (\n        <CartWrapper className=\"\">\n            <h2 className=\"ml-5 font-weight-bolder\">Cart Items</h2>\n\n            <CartAndActionsWrapper>\n                <CartItemsView className=\"ml-5\">\n                    {\n                        items.length !== 0\n                            ? items.map((item, index) => {\n                                return <CartItem key={index} product={item} />\n                            })\n                            : <div>\n                                <h5 className=\"text-muted\">Nothing to see here</h5>\n                            </div>\n                    }\n                </CartItemsView>\n                <ActionsView className=\"ml-2 p-2\">\n                    <div>Total Amount: GHC {totalAmount}</div>\n                    <div className=\"d-flex flex-row\">\n                        <CheckoutButton\n                            className=\"mr-2\"\n                            onClick={handleShow}\n                            disabled={items.length !== 0 ? false : true}>\n                            <MdShoppingCart /> Checkout\n                        </CheckoutButton >\n                        <ClearButton\n                            variant=\"danger\"\n                            disabled={items.length !== 0 ? false : true}\n                            onClick={handleClearCart}>\n                            <MdRemoveShoppingCart /> Clear Cart\n                        </ClearButton>\n                    </div>\n                    {\n                        checkedOut &&\n                        <Alert variant=\"success\" className=\"mt-3\">Items Checked out</Alert>\n                    }\n                </ActionsView>\n\n                <Form onSubmit={handleCheckout}>\n                    <Modal show={show} onHide={handleClose}>\n                        <Modal.Header closeButton>\n                            <Modal.Title>Checking out</Modal.Title>\n                        </Modal.Header>\n                        <Modal.Body>\n                            <Form.Label>Enter Card Details</Form.Label>\n                            <Form.Control type=\"text\" ref={cardDetailsEl} />\n                        </Modal.Body>\n                        <Modal.Footer>\n                            <Button variant=\"secondary\" onClick={handleClose}>\n                                Close\n                        </Button>\n                            <Button variant=\"primary\" onClick={handleCheckout}>\n                                Checkout\n                        </Button>\n                        </Modal.Footer>\n                    </Modal>\n                </Form>\n            </CartAndActionsWrapper>\n        </CartWrapper>\n    );\n}\n\nexport default Cart;","import React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport { Card, Button } from 'react-bootstrap';\nimport ProductContext from '../context/product-context';\n\nconst { Img } = Card\n\nconst WishlistItemWrapper = styled(Card)`\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: center;\n`;\n\nconst ItemImage = styled(Img)``;\n\nconst ItemDetailsWrapper = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n`;\n\nconst ItemName = styled.span``;\n\nconst ItemStatus = styled.span``;\n\nconst ItemUnitPrice = styled.span``;\nconst Actions = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n`;\n\nconst RemoveButton = styled(Button)``;\n\nconst WishlistItem = ({ product }) => {\n\n    const { removeFromWishlist } = useContext(ProductContext);\n\n    const handleRemove = productId => {\n        removeFromWishlist(productId);\n    }\n    return (\n        <WishlistItemWrapper className=\"my-2\">\n            <ItemImage src={product.image} variant=\"left\" width=\"180\" height=\"180\" />\n            <Card.Body>\n                <ItemDetailsWrapper className=\"\">\n                    <Card.Title>\n                        <ItemName>{product.name}</ItemName>\n                    </Card.Title>\n                    <ItemStatus className={product.inStock ? \"text-success\" : \"text-danger\"}>\n                        {product.inStock ? \"In stock\" : \"Out of stock\"}\n                    </ItemStatus>\n\n                    <ItemUnitPrice><span>Unit Price: GHC </span>{product.price}</ItemUnitPrice>\n                    <Actions className=\"\">\n                        <RemoveButton variant=\"danger\" onClick={() => handleRemove(product.id)}>\n                            Remove\n                        </RemoveButton>\n                    </Actions>\n                </ItemDetailsWrapper>\n            </Card.Body>\n        </WishlistItemWrapper>\n    );\n}\n\nexport default WishlistItem;","import React, { useState, useEffect, useContext } from 'react';\nimport styled from 'styled-components';\nimport ProductContext from '../../context/product-context';\nimport WishlistItem from '../../components/WishlistItem';\nimport { Button, Alert } from 'react-bootstrap';\nimport { FaTrash } from 'react-icons/fa'\n\n\nconst WishlistWrapper = styled.div`\n    display: flex;\n    flex-flow: column nowrap;\n    width: 100%;\n    justify-content: center;\n`;\n\nconst WishlistAndActionsWrapper = styled.div`\n    display: flex;\n    flex-direction: row;\n\n    @media screen and (max-width: 768px){\n        flex-flow: column wrap;\n    }\n`;\n\nconst WishlistItemsView = styled.div`\n    width: 70%;\n    justify-content: center;\n\n    @media screen and (max-width: 768px){\n        width: 80%\n    }\n`;\n\nconst ActionsView = styled.div`\n    width: 20%;\n\n    @media screen and (max-width: 768px){\n        width: 90%;\n    }\n`;\nconst ClearButton = styled(Button)``;\n\n\nconst WishlistPage = () => {\n    const [items, setItems] = useState([]);\n    const [wishlistCleared, setWishlistCleared] = useState(false);\n    const { wishlist, products, clearWishlist } = useContext(ProductContext);\n\n    useEffect(() => {\n        const itemsToDisplay = wishlist\n            .map(item => {\n                return products.filter(product => {\n                    return item === product.id;\n                })\n            })\n            .map(item => {\n                return item[0];\n            })\n\n        setItems([...itemsToDisplay]);\n\n\n    }, [wishlist]);\n\n    const handleClearWishlist = () => {\n        clearWishlist();\n        setWishlistCleared(true);\n\n        setTimeout(() => {\n            setWishlistCleared(false);\n        }, 5000)\n    }\n\n    return (\n        <WishlistWrapper className=\"\">\n            <h2 className=\"ml-5 font-weight-bolder\">Your Wishlist</h2>\n\n            <WishlistAndActionsWrapper>\n                <WishlistItemsView className=\"ml-5\">\n                    {\n                        items.length !== 0\n                            ?\n                            items.map((item, index) => {\n                                return <WishlistItem key={index} product={item} />\n                            })\n                            : <div>\n                                <h5 className=\"text-muted\">Nothing to see here</h5>\n                            </div>\n                    }\n                </WishlistItemsView>\n                <ActionsView className=\"ml-2 p-2\">\n                    <div className=\"d-flex flex-column\">\n                        <ClearButton\n                            variant=\"danger\"\n                            disabled={items.length !== 0 ? false : true}\n                            onClick={() => handleClearWishlist()}>\n                            <FaTrash /> Clear Wishlist\n                        </ClearButton>\n                    </div>\n\n                    {\n                        wishlistCleared &&\n                        <Alert variant=\"success\" className=\"mt-3\">Wishlist Cleared</Alert>\n                    }\n                </ActionsView>\n\n            </WishlistAndActionsWrapper>\n        </WishlistWrapper>\n    );\n}\n\nexport default WishlistPage;","const formatDate = (dateObject, year = false) => {\n    const date = new Date(dateObject);\n\n    const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"];\n    const months = [\n        \"January\",\n        \"February\",\n        \"March\",\n        \"April\",\n        \"May\",\n        \"June\",\n        \"July\",\n        \"August\",\n        \"September\",\n        \"October\",\n        \"November\",\n        \"December\"\n    ];\n\n    const day = date.getDay();\n    const dayDate = date.getDate();\n    const month = date.getMonth();\n    const fullYear = date.getFullYear();\n\n    let dateString = \"\";\n\n    if (year) {\n        dateString = `${days[day]}, ${months[month]} ${dayDate}, ${fullYear}`;\n        return dateString;\n    }\n\n    dateString = `${days[day]}, ${months[month]} ${dayDate}`;\n    return dateString;\n}\n\nexport default formatDate;","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Card } from 'react-bootstrap';\nimport formatDate from '../helpers/formatDate';\n\nconst HistoryItemWrapper = styled(Card)`\n    width: 100%;\n`;\n\nconst PurchaseDate = styled.div``;\nconst CardDetails = styled.div``;\nconst ItemsPurchasedWrapper = styled.div``;\nconst ItemsPurchasedList = styled.ul``;\nconst ListItem = styled.li``;\nconst TotalAmount = styled.div``;\n\nconst HistoryItem = ({ purchaseHistory }) => {\n    return (\n        <HistoryItemWrapper className=\"my-2\">\n            <Card.Body>\n                <PurchaseDate>\n                    <span className=\"font-weight-bolder\">Purchase Date: </span>\n                    {\n                        formatDate(purchaseHistory.date)\n                    }\n                </PurchaseDate>\n                <CardDetails>\n                    <span className=\"font-weight-bolder\">Card Used: </span>{purchaseHistory.cardDetails}\n                </CardDetails>\n                <ItemsPurchasedWrapper>\n                    <span className=\"font-weight-bolder\">Items Purchased</span>\n                    <ItemsPurchasedList>\n                        {\n                            purchaseHistory.items.map((item, index) => {\n                                return <ListItem key={index}>\n                                    {\n                                        item.name\n                                    }\n                                </ListItem>\n                            })\n                        }\n                    </ItemsPurchasedList>\n                </ItemsPurchasedWrapper>\n                <TotalAmount>\n                    <span className=\"font-weight-bolder\">Total Amount: GHC </span>\n                    {\n                        purchaseHistory.totalAmount\n                    }\n                </TotalAmount>\n            </Card.Body>\n        </HistoryItemWrapper>\n    );\n}\n\nexport default HistoryItem;","import React, { useContext, useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport ProductContext from '../../context/product-context';\nimport HistoryItem from '../../components/HistoryItem';\nimport { Button, Alert } from 'react-bootstrap';\nimport { FaTrash } from 'react-icons/fa'\n\nconst HistoryWrapper = styled.div`\n    display: flex;\n    width: 100%;\n    flex-flow: column nowrap;\n`;\n\nconst MainView = styled.div`\n    display: flex;\n    flex-flow: row nowrap;\n\n    @media screen and (max-width: 768px){\n        flex-flow: column nowrap;\n    }\n`;\n\nconst HistoryView = styled.div`\n    display: flex;\n    flex-flow: column nowrap;\n    width: 70%;\n`;\n\n\nconst ActionsView = styled.div`\n    width: 20%;\n\n    @media screen and (max-width: 768px){\n        width: 90%;\n    }\n`;\n\nconst ClearButton = styled(Button)``;\n\n\n\nconst PurchaseHistory = () => {\n    const [historyCleared, setHistoryCleared] = useState(false);\n    const { history, clearHistory } = useContext(ProductContext);\n    const [purchaseHistory, setPurchaseHistory] = useState([]);\n\n    useEffect(() => {\n        setPurchaseHistory([...history]);\n    }, [history]);\n\n    const handleClearHistory = () => {\n        clearHistory();\n        setHistoryCleared(true);\n\n        setTimeout(() => {\n            setHistoryCleared(false);\n        }, 5000)\n    }\n\n    return (\n        <HistoryWrapper>\n            <h2 className=\"ml-5 font-weight-bolder\">Your Purchase History</h2>\n            <MainView>\n                <HistoryView className=\"ml-5\">\n                    {\n                        purchaseHistory.length !== 0\n                            ?\n                            purchaseHistory.map(historyItem => {\n                                return <HistoryItem purchaseHistory={historyItem} />\n                            })\n                            : <div>\n                                <h5 className=\"text-muted\">Nothing to see here</h5>\n                            </div>\n                    }\n                </HistoryView>\n                <ActionsView className=\"ml-2 p-2\">\n                    <div className=\"d-flex flex-column\">\n                        <ClearButton\n                            variant=\"danger\"\n                            onClick={handleClearHistory}\n                            disabled={history.length !== 0 ? false : true}>\n                            <FaTrash /> Clear History\n                        </ClearButton>\n                    </div>\n                    {\n                        historyCleared &&\n                        <Alert variant=\"success\" className=\"mt-3\">History Cleared</Alert>\n                    }\n                </ActionsView>\n\n            </MainView>\n        </HistoryWrapper>\n    );\n}\n\nexport default PurchaseHistory;","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport AuthPage from './pages/Auth';\nimport RegisterPage from './pages/Register';\nimport MainLayout from './layout/MainLayout';\nimport HomePage from './pages/Main/Home';\nimport ViewProductPage from './pages/Main/ViewProduct';\nimport Cart from './pages/Main/Cart';\nimport AuthContext from './context/auth-context';\nimport ProductContext from './context/product-context';\nimport { products } from './data/products';\nimport WishlistPage from './pages/Main/Wishlist';\nimport PurchaseHistory from './pages/Main/History';\n\nfunction App() {\n  const existingAccessToken = localStorage.getItem('accessToken') || null;\n  const existingRefreshToken = localStorage.getItem('refreshToken') || null;\n\n  const [data] = useState(products);\n  const [accessToken, setAccessToken] = useState(existingAccessToken);\n  const [refreshToken, setRefreshToken] = useState(existingRefreshToken);\n  const [cartItems, setCartItems] = useState([]);\n  const [wishlist, setWishlist] = useState([]);\n  const [history, setHistory] = useState([]);\n  const [searchedProducts, setSearchedProducts] = useState([]);\n  const [searchInitiated, setSearchInitiated] = useState(false);\n\n\n  const login = (accessToken, refreshToken, userId, cart, history, wishlist) => {\n    localStorage.setItem('accessToken', accessToken);\n    localStorage.setItem('refreshToken', refreshToken);\n    setAccessToken(accessToken);\n    setRefreshToken(refreshToken);\n    setCartItems([...cart]);\n    setHistory([...history]);\n    setWishlist([...wishlist])\n  }\n\n  const logout = () => {\n    localStorage.removeItem('accessToken');\n    localStorage.removeItem('refreshToken');\n\n    setAccessToken(null);\n  }\n\n  useEffect(() => {\n\n    if (!accessToken) {\n      const cartInfo = JSON.parse(sessionStorage.getItem(\"cartItems\"));\n      if (cartInfo) {\n        setCartItems([...cartInfo.cartItems]);\n      }\n    }\n  }, [accessToken]);\n\n  // Service functions\n\n  const addToCart = async productId => {\n    try {\n      const response = await fetch(`https://secret-anchorage-57474.herokuapp.com/api/cart/add/${productId}`);\n      const responseData = Response.json();\n\n  \n      setCartItems([productId, ...cartItems]);\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  const removeFromCart = productId => {\n    if (cartItems.length === 1) {\n      setCartItems([]);\n      return;\n    }\n\n    const tempArray = [...cartItems];\n    tempArray.splice(tempArray.indexOf(productId), 1);\n    setCartItems([...tempArray]);\n  }\n\n\n  const search = productSearchString => {\n    setSearchInitiated(true);\n    const productsFound = products.filter(product => {\n      return product.name.toLowerCase().includes(productSearchString.toLowerCase());\n    })\n\n    setSearchedProducts(productsFound);\n  }\n\n  const addToWishlist = productId => {\n    if (wishlist.includes(productId)) {\n      return;\n    }\n    setWishlist([productId, ...wishlist])\n  }\n\n  const removeFromWishlist = productId => {\n    if (wishlist.length === 1) {\n      setWishlist([]);\n      return;\n    }\n\n    const tempArray = [...wishlist];\n    tempArray.splice(tempArray.indexOf(productId), 1);\n    setWishlist([...tempArray]);\n  }\n\n  const clearCart = () => {\n    setCartItems([]);\n  }\n\n  const clearWishlist = () => {\n    setWishlist([]);\n  }\n\n  const checkout = (purchaseData) => {\n    setHistory([purchaseData, ...history]);\n  }\n\n  const clearHistory = () => {\n    setHistory([]);\n  }\n\n  useEffect(() => {\n    if (!accessToken) {\n      const dataToSave = JSON.stringify({\n        cartItems: [...cartItems]\n      });\n\n      sessionStorage.setItem(\"cartItems\", dataToSave);\n      return;\n    }\n\n    // const userInfo = JSON.parse(localStorage.getItem(userEmail));\n    // userInfo.cartItems = [...cartItems];\n    // userInfo.wishlist = [...wishlist];\n    // userInfo.history = [...history];\n    // localStorage.setItem(userEmail, JSON.stringify(userInfo));\n  }, [cartItems, wishlist, history]);\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <AuthContext.Provider\n          value={{\n            accessToken: accessToken,\n            refreshToken: refreshToken,\n            logout: logout,\n            login: login\n          }}>\n          <ProductContext.Provider\n            value={{\n              addToCart: addToCart,\n              cartItems: cartItems,\n              products: data,\n              search: search,\n              searchedProducts: searchedProducts,\n              searchInitiated: searchInitiated,\n              removeFromCart: removeFromCart,\n              addToWishlist: addToWishlist,\n              wishlist: wishlist,\n              removeFromWishlist: removeFromWishlist,\n              clearCart: clearCart,\n              clearWishlist: clearWishlist,\n              checkout: checkout,\n              history: history,\n              clearHistory: clearHistory\n            }}>\n            <Switch>\n              {\n                accessToken && <Redirect path=\"/auth\" to=\"/home\" />\n              }\n              <Redirect path=\"/\" to=\"/home\" exact />\n              <Route exact path=\"/auth\" component={AuthPage} />\n              <Route exact path=\"/register\" component={RegisterPage} />\n              <Route exact path=\"/home\" render={(props) => (\n                <MainLayout>\n                  <HomePage {...props} />\n                </MainLayout>\n              )} />\n              <Route exact path=\"/product/:productId\" render={props => (\n                <MainLayout>\n                  <ViewProductPage {...props} />\n                </MainLayout>\n              )} />\n              <Route exact path=\"/cart\" render={props => (\n                <MainLayout>\n                  <Cart {...props} />\n                </MainLayout>\n              )} />\n              <Route exact path=\"/wishlist\" render={props => (\n                <MainLayout>\n                  <WishlistPage {...props} />\n                </MainLayout>\n              )} />\n              <Route exact path=\"/history\" render={props => (\n                <MainLayout>\n                  <PurchaseHistory {...props} />\n                </MainLayout>\n              )} />\n            </Switch>\n          </ProductContext.Provider>\n        </AuthContext.Provider>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}