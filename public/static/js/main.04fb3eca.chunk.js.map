{"version":3,"sources":["context/auth-context.js","pages/Auth.js","pages/Register.js","context/product-context.js","components/NavBar.js","layout/MainLayout.js","components/ProductItem.js","components/Products.js","pages/Main/Home.js","data/products.js","pages/Main/ViewProduct.js","components/CartItem.js","pages/Main/Cart.js","components/WishlistItem.js","pages/Main/Wishlist.js","helpers/formatDate.js","components/HistoryItem.js","pages/Main/History.js","App.js","serviceWorker.js","index.js"],"names":["React","createContext","token","login","email","logout","Text","Form","Row","Label","AuthForm","styled","FormText","FormLabel","FormRow","RegisterLink","Link","AuthPage","emailEl","useRef","passwordEl","auth","useContext","AuthContext","useState","error","setError","onSubmit","event","preventDefault","current","value","password","storedDetails","JSON","parse","localStorage","getItem","length","result","characters","charactersLength","i","charAt","Math","floor","random","makeId","className","Alert","variant","Group","controlId","Control","type","ref","Button","to","RegisterForm","LoginLink","RegisterPage","loading","setLoading","complete","setComplete","nameEl","confirmPasswordEl","handleSubmit","a","name","confirmPassword","split","firstName","lastName","requestBody","fetch","method","headers","body","stringify","response","json","responseData","message","Spinner","as","size","animation","products","cartItems","wishlist","addToCart","productId","removeFromCart","addToWishlist","removeFromWishlist","productid","searchedProducts","searchInitiated","search","productName","clearCart","clearWishlist","checkout","dataToSave","history","clearHistory","NavLink","StyledSearchForm","StyledFormControl","FormControl","CartIcon","div","CartNumber","span","NavBar","ProductContext","searchEl","Navbar","collapseOnSelect","expand","bg","fixed","Brand","href","Toggle","aria-controls","Collapse","id","Nav","inline","searchString","handleSearch","placeholder","onChange","onClick","MainContainer","Container","MainContent","MainLayout","children","fluid","Img","Card","ProductWrapper","ProductImage","DetailsWrapper","ProductName","ProductPrice","CardActions","ProductStatus","ProductItem","product","useHistory","style","color","textDecoration","src","image","Body","currency","price","inStock","title","push","disabled","includes","ProductsView","MainProducts","Products","props","map","index","key","HomePageWrapper","HomePage","category","description","condition","Subtitle","Title","MainWrapper","ProductDetails","ProductCategory","ProductDescriptionWrapper","ProductDescriptionList","ul","ProductDescritpionListItem","li","ProductCondition","ProductActions","ActionButton","ViewProduct","useParams","filter","productInformation","width","listItem","handleAddToCart","handleRemoveFromCart","handleAddToWishlist","CartItemWrapper","ItemImage","ItemDetailsWrapper","ItemName","ItemStatus","ItemUnitPrice","Actions","RemoveButton","CartItem","height","CartWrapper","CartAndActionsWrapper","CartItemsView","ActionsView","CheckoutButton","ClearButton","Cart","items","setItems","totalAmount","setTotalAmount","checkedOut","setCheckedOut","show","setShow","cardDetailsEl","handleClose","useEffect","itemsToDisplay","item","reduce","acc","handleCheckout","cardDetails","date","Date","setTimeout","Modal","onHide","Header","closeButton","Footer","WishlistItemWrapper","WishlistItem","WishlistWrapper","WishlistAndActionsWrapper","WishlistItemsView","WishlistPage","wishlistCleared","setWishlistCleared","formatDate","dateObject","year","days","months","day","getDay","dayDate","getDate","month","getMonth","fullYear","getFullYear","HistoryItemWrapper","PurchaseDate","CardDetails","ItemsPurchasedWrapper","ItemsPurchasedList","ListItem","TotalAmount","HistoryItem","purchaseHistory","HistoryWrapper","MainView","HistoryView","PurchaseHistory","historyCleared","setHistoryCleared","setPurchaseHistory","historyItem","App","existingToken","existingEmail","data","setToken","userEmail","setUserEmail","setCartItems","setWishlist","setHistory","setSearchedProducts","setSearchInitiated","userInfo","cartInfo","sessionStorage","setItem","Provider","removeItem","productSearchString","productsFound","toLowerCase","tempArray","splice","indexOf","purchaseData","path","exact","component","render","Home","Wishlist","Boolean","window","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.04fb3eca.chunk.js","sourcesContent":["import React from 'react';\n\nexport default React.createContext({\n    token: null,\n    login: (token, email) => { },\n    logout: () => { }\n})","import React, { useRef, useContext, useState } from 'react';\nimport { Form, Button, Alert } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport AuthContext from '../context/auth-context'\n\nconst { Text, Row, Label } = Form;\n\nconst AuthForm = styled(Form)`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 40%;\n\n    @media screen and (max-width: 768px){\n        width: 90%;\n    }\n`;\n\nconst FormText = styled(Text)`\n    line-height: 1.5;\n    vertical-align: center;\n`;\n\nconst FormLabel = styled(Label)`\n    float: left;\n`;\n\nconst FormRow = styled(Row)`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n`;\n\nconst RegisterLink = styled(Link)``;\n\n\nconst AuthPage = () => {\n    const emailEl = useRef();\n    const passwordEl = useRef();\n    const auth = useContext(AuthContext);\n\n    const [error, setError] = useState(null);\n\n    const makeId = (length) => {\n        let result = '';\n        const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        const charactersLength = characters.length;\n\n        for (var i = 0; i < charactersLength; i++) {\n            result += characters.charAt(Math.floor(Math.random() * charactersLength));\n        }\n        return result;\n    }\n\n    const handleSubmit = event => {\n        event.preventDefault();\n\n        const email = emailEl.current.value;\n        const password = passwordEl.current.value;\n\n        if (!email && !password) {\n            return;\n        }\n\n        const storedDetails = JSON.parse(localStorage.getItem(email));\n\n        if (!storedDetails) {\n            setError(\"User does not exist\");\n            return;\n        }\n\n        const storedEmail = storedDetails.email;\n        const storedPassWord = storedDetails.password;\n\n\n\n        if (password !== storedPassWord) {\n            setError(\"Invalid Credentials!\");\n            return;\n        }\n\n        const token = makeId(5);\n        auth.login(token, email);\n    }\n    return (\n        <AuthForm onSubmit={handleSubmit} className=\"mx-auto border p-3 mt-5\">\n            <h3>Login</h3>\n            {\n                error && <Alert variant=\"danger\">{error}</Alert>\n            }\n            <Form.Group controlId=\"formBasicEmail\">\n                <FormLabel>Email</FormLabel>\n                <Form.Control type=\"email\" ref={emailEl} />\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicPassword\">\n                <FormLabel className=\"\">Password</FormLabel>\n                <Form.Control type=\"password\" ref={passwordEl} />\n            </Form.Group>\n\n            <FormRow className=\"\">\n                <Button variant=\"primary\" type=\"submit\">\n                    Login\n                </Button>\n                <FormText className=\"text-muted align-middle\">\n                    Dont have an account?\n                <RegisterLink to=\"/register\"> Register here!</RegisterLink>\n                </FormText>\n            </FormRow>\n        </AuthForm>\n    );\n}\n\nexport default AuthPage;","import React, { useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { Form, Col, Button, Alert, Spinner } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\n\nconst { Label, Text, Row } = Form;\nconst RegisterForm = styled(Form)`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 35%;\n\n    @media screen and (max-width: 768px){\n        width: 90%;\n    }\n`;\n\nconst FormLabel = styled(Label)`\n    float: left;\n`;\n\nconst FormRow = styled(Row)`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n`;\n\nconst FormText = styled(Text)`\n    line-height: 1.5;\n    vertical-align: center;\n`;\n\nconst LoginLink = styled(Link)``;\n\nconst RegisterPage = () => {\n    const [error, setError] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [complete, setComplete] = useState(false);\n\n    const nameEl = useRef();\n    const emailEl = useRef();\n    const passwordEl = useRef();\n    const confirmPasswordEl = useRef();\n\n    const handleSubmit = async event => {\n        event.preventDefault();\n\n        setLoading(true);\n\n        const name = nameEl.current.value;\n        const email = emailEl.current.value;\n        const password = passwordEl.current.value;\n        const confirmPassword = confirmPasswordEl.current.value;\n\n\n        if (!name || !email || !password || !confirmPassword) {\n            return;\n        }\n\n        if (password !== confirmPassword) {\n            setError(\"Passwords do not match\");\n            return;\n        }\n\n        const [firstName, ...lastName] = name.split(' ');\n\n        const requestBody = {\n            firstName: firstName,\n            lastName: lastName,\n            email: email,\n            password: password\n        }\n\n        const response = await fetch('https://secret-anchorage-57474.herokuapp.com/api/user/register', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(requestBody)\n        });\n\n        const responseData = await response.json();\n\n        if (responseData.error) {\n            setError(responseData.error.message);\n            setLoading(false);\n            return;\n        }\n\n        setComplete(true);\n        setLoading(false);\n        setError(null);\n    }\n\n    return (\n        <RegisterForm className=\"mx-auto border p-4 mt-5\" onSubmit={handleSubmit}>\n            <h3>Sign Up!</h3>\n            {\n                error && <Alert variant=\"danger\">{error}</Alert>\n            }\n            {\n                complete && <Alert variant=\"success\">User added! You can now login</Alert>\n            }\n            <Form.Group controlId=\"formBasicEmail\">\n                <FormLabel>Name</FormLabel>\n                <Form.Control type=\"text\" ref={nameEl} />\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicEmail\">\n                <FormLabel>Email</FormLabel>\n                <Form.Control type=\"email\" ref={emailEl} />\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicEmail\">\n                <FormLabel>Password</FormLabel>\n                <Form.Control type=\"password\" ref={passwordEl} />\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicPassword\">\n                <FormLabel className=\"\">Confirm Password</FormLabel>\n                <Form.Control type=\"password\" ref={confirmPasswordEl} />\n            </Form.Group>\n\n            <FormRow>\n                <Button variant=\"primary\" type=\"submit\">\n                    {\n                        loading\n                            ?\n                            <>\n                            <Spinner as=\"span\" size=\"sm\" animation=\"border\" />\n                            Adding user\n                            </>\n                        : \"Register\"\n                    }\n                </Button>\n                <FormText className=\"text-muted align-middle\">\n                    Already have an account?\n                <LoginLink to=\"/auth\"> Log in!</LoginLink>\n                </FormText>\n\n            </FormRow>\n        </RegisterForm>\n    );\n}\n\nexport default RegisterPage;","import React from 'react';\n\nexport default React.createContext({\n    products: [],\n    cartItems: [],\n    wishlist: [],\n    addToCart: (productId) => { },\n    removeFromCart: (productId) => { },\n    addToWishlist: (productId) => { },\n    removeFromWishlist: (productid) => { },\n    searchedProducts: [],\n    searchInitiated: false,\n    search: (productName) => { },\n    clearCart: () => { },\n    clearWishlist: () => { },\n    checkout: (dataToSave) => { },\n    history: [],\n    clearHistory: () => { }\n})","import React, { useContext, useRef } from 'react';\nimport { Form, Navbar, Button, Nav, FormControl } from 'react-bootstrap';\nimport AuthContext from '../context/auth-context';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { FaSearch } from 'react-icons/fa';\nimport { MdShoppingCart } from 'react-icons/md';\nimport ProductContext from '../context/product-context';\n\nconst NavLink = styled(Link)`\n    text-decoration: none !important;\n    color: lightgray;\n`;\n\nconst StyledSearchForm = styled(Form)`\n    margin: 0 auto;\n    width: 60%;\n\n    @media screen and (max-width: 768px){\n        margin: 0.8rem 0;\n        width: 100%;\n        display: flex;\n        flex-direction: row;\n    }\n`;\n\nconst StyledFormControl = styled(FormControl)`\n    width: 90% !important;\n    margin-right: 0.8rem;\n\n    @media screen and (max-width: 768px){\n        width: 85% !important;\n    }\n`;\n\nconst CartIcon = styled.div`\n    display: flex;\n    flex-flow: row nowrap;\n    margin: 0 auto;\n\n    @media screen and (max-width: 768px){\n        margin: 1rem 0;\n    }\n`;\n\nconst CartNumber = styled.span`\n    display: inline-block;\n    width: 1.5rem;\n    height: 1.55rem;\n    text-align: center;\n`;\n\nconst NavBar = () => {\n    const { token, logout } = useContext(AuthContext);\n    const { cartItems, search } = useContext(ProductContext);\n    const searchEl = useRef();\n\n    const handleLogout = () => {\n        logout();\n    }\n\n    const handleSearch = event => {\n        event.preventDefault();\n        const searchString = searchEl.current.value;\n        search(searchString);\n    }\n\n    const handleChange = () => {\n        const searchString = searchEl.current.value;\n        if(searchString === \"\"){\n            search(searchString);\n        }\n    }\n\n    return (\n        <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\" fixed=\"top\">\n            <Navbar.Brand href=\"#home\">Buy Stuff From Here !</Navbar.Brand>\n            <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n            <Navbar.Collapse id=\"responsive-navbar-nav\">\n                <Nav className=\"mr-auto\">\n                    <NavLink to=\"/home\">Home</NavLink>\n                </Nav>\n                {\n                    token &&\n                    <>\n                        <Nav className=\"mr-auto\">\n                            <NavLink to=\"/wishlist\">Wishlist</NavLink>\n                        </Nav>\n                        <Nav>\n                            <NavLink to=\"/history\">Purchase history</NavLink>\n                        </Nav>\n                    </>\n                }\n\n                <StyledSearchForm inline className=\"\" onSubmit={(event) => handleSearch(event)}>\n                    <StyledFormControl\n                        type=\"text\"\n                        placeholder=\"Search products\"\n                        className=\"\"\n                        onChange={handleChange}\n                        ref={searchEl}/>\n                    <Button variant=\"outline-info\" type=\"submit\">\n                        <FaSearch />\n                    </Button>\n                </StyledSearchForm>\n                <CartIcon>\n                    <Nav className=\"mr-auto\">\n                        <NavLink to=\"/cart\">\n                            <MdShoppingCart size=\"1.5rem\" />\n                            <CartNumber className=\"rounded-circle bg-danger\">{cartItems.length}</CartNumber>\n                        </NavLink>\n                    </Nav>\n                </CartIcon>\n\n                <Nav>\n                    {\n                        token && <Button className=\"ml-2\" onClick={handleLogout}>Logout</Button>\n                    }\n                    {\n                        !token && <NavLink className=\"btn btn-primary\" to=\"/auth\">Login</NavLink>\n                    }\n                </Nav>\n            </Navbar.Collapse>\n        </Navbar>\n    );\n}\n\nexport default NavBar;","import React, { useContext } from 'react';\nimport NavBar from '../components/NavBar';\nimport { Container } from 'react-bootstrap';\nimport styled from 'styled-components';\nimport ProductContext from '../context/product-context';\n\nconst MainContainer = styled(Container)`\n    padding: 0;\n`;\n\nconst MainContent = styled.div`\n    display: flex;\n    width: 100%;\n    margin-top: 5rem;\n`;\n\nconst MainLayout = ({ children }) => {\n    return (\n        <MainContainer fluid>\n            <NavBar />\n            <MainContent className=\"\">\n                {children}\n            </MainContent>\n        </MainContainer>\n    );\n}\n\nexport default MainLayout;","import React, { useState, useEffect, useContext } from 'react';\nimport styled from 'styled-components';\nimport { Card, Button } from 'react-bootstrap';\nimport { Link, useHistory } from 'react-router-dom';\nimport { MdAddShoppingCart, MdRemoveShoppingCart, MdAddCircle } from 'react-icons/md';\nimport ProductContext from '../context/product-context';\nimport AuthContext from '../context/auth-context';\n\nconst { Img } = Card;\n\nconst ProductWrapper = styled(Card)`\n    display: flex;\n    flex-flow: column nowrap;\n    width: 17%;\n    margin: 1rem 1rem;\n    box-sizing: border-box;\n    transition: all 0.2s;\n\n\n    @media screen and (max-width: 768px){\n        width: 80%;\n        height: 10% !important;\n        margin: 0.5rem auto;\n    }\n\n    &:hover{\n        transform: scale(1.05, 1.05)\n    }\n`;\n\nconst ProductImage = styled(Img)`\n    height: 270px;  \n\n    @media screen and (max-width: 768px){\n        height: 300px;\n    }\n`;\nconst DetailsWrapper = styled.div`\n    display: flex;\n    flex-flow: column nowrap;\n`;\nconst ProductName = styled.span`\n    font-weight: bold;\n`;\nconst ProductPrice = styled.span`\n    font-weight: lighter;\n`;\n\nconst CardActions = styled.div`\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: flex-start;\n`;\n\nconst ProductStatus = styled.span`\n    font-weight: light;\n`;\n\n\nconst ProductItem = ({ product }) => {\n    const { addToCart, cartItems, removeFromCart, addToWishlist } = useContext(ProductContext);\n    const { token } = useContext(AuthContext);\n    const history = useHistory();\n\n    const handleAddtoCart = productId => {\n        if (!token) {\n            history.push('/auth');\n            return;\n        }\n        addToCart(productId);\n    }\n\n    const handleRemoveFromCart = productId => {\n        removeFromCart(productId);\n    }\n\n    const handleAddToWishlist = productId => {\n        addToWishlist(productId);\n    }\n\n    return (\n        <ProductWrapper className=\"\">\n            <Link\n                to={`/product/${product.id}`}\n                style={{ color: \"black\", textDecoration: \"none\" }}>\n                <ProductImage src={product.image} variant=\"top\" />\n            </Link>\n            <Card.Body>\n                <DetailsWrapper>\n                    <ProductName>{product.name}</ProductName>\n                    <ProductPrice><span className=\"mr-1\">{product.currency}</span>{product.price}</ProductPrice>\n                    <ProductStatus className={product.inStock ? \"text-success\" : \"text-danger\"}>\n                        {product.inStock ? \"In stock\" : \"Out of stock\"}\n                    </ProductStatus>\n                </DetailsWrapper>\n                <CardActions>\n                    <Button\n                        variant=\"primary\"\n                        size=\"sm\"\n                        title=\"Add to cart\"\n                        onClick={() => handleAddtoCart(product.id)}\n                        className=\"mr-1\">\n                        <MdAddShoppingCart />\n                    </Button>\n                    <Button\n                        variant=\"danger\"\n                        size=\"sm\"\n                        title=\"Remove from cart\"\n                        className=\"mr-1\"\n                        onClick={() => handleRemoveFromCart(product.id)}\n                        disabled={cartItems.includes(product.id) ? false : true}>\n                        <MdRemoveShoppingCart />\n                    </Button>\n                    {\n                        token &&\n                        <Button variant=\"secondary\" size=\"sm\" onClick={() => handleAddToWishlist(product.id)}>\n                            <MdAddCircle />\n                            <span className=\"ml-1\">Add to wishlist</span>\n                        </Button>\n                    }\n                </CardActions>\n            </Card.Body>\n        </ProductWrapper>\n    );\n}\n\nexport default ProductItem;","import React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport ProductItem from './ProductItem';\nimport ProductContext from '../context/product-context';\n\n\nconst ProductsView = styled.div`\n    display: flex;\n    flex-flow:row wrap;\n    width: 100%;\n`;\n\nconst MainProducts = styled.div`\n    display: flex;\n    flex-flow:row wrap;\n    justify-content: center;\n    width: 100%;\n\n    @media screen and (max-width: 768px){\n        flex-flow:column nowrap;\n        justify-content: center;\n    }\n`;\n\nconst Products = (props) => {\n\n    const { products, searchedProducts} = useContext(ProductContext);\n    return (\n        <ProductsView>\n            <h2 className=\"ml-5 font-weight-bolder\">Browse All Products</h2>\n            <MainProducts className=\"\">\n                {\n                    searchedProducts.length !== 0\n                        ? searchedProducts.map((product, index) => {\n                            return <ProductItem key={index} product={product} {...props} />\n                        })\n                        : products.map((product, index) => {\n                            return <ProductItem key={index} product={product} {...props} />\n                        })\n                // {\n                //     searchedProducts.length === 0 &&\n                    \n                }\n            </MainProducts>\n        </ProductsView>\n    );\n}\n\nexport default Products;","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport Products from '../../components/Products'\n\n\nconst HomePageWrapper = styled.div`\n    width: 100vw;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n`;\n\nconst HomePage = (props) => {\n\n    return (\n        <HomePageWrapper>\n            <Products {...props} />\n        </HomePageWrapper>\n    );\n}\n\nexport default HomePage;","export const products = [\n    {\n        id: \"1234566\",\n        name: \"Apple iPhone 11\",\n        image: \"https://store.storeimages.cdn-apple.com/4668/as-images.apple.com/is/iphone11-select-2019-family_GEO_EMEA?wid=882&amp;hei=1058&amp;fmt=jpeg&amp;qlt=80&amp;op_usm=0.5,0.5&amp;.v=1567022219953\",\n        price: 2000.00,\n        category: \"Computer electronics\",\n        inStock: true,\n        description: [\"Apple device\", \"Great smartphone\", \"Runs iOS\", \"Great build quality\"],\n        condition: \"New\",\n        currency: \"GHC\"\n    },\n    {\n        id: \"1234567\",\n        name: \"Samsung Galaxy S20\",\n        image: \"https://fdn2.gsmarena.com/vv/pics/samsung/samsung-galaxy-s20-5g-r1.jpg\",\n        price: 2500.00,\n        category: \"Computer electronics\",\n        inStock: true,\n        description: [\"Samsung Device\", \"Runs Android\", \"Great build quality\", \"Great performance\"],\n        condition: \"New\",\n        currency: \"GHC\"\n    },\n    {\n        id: \"1234568\",\n        name: \"Apple iPhone 11 Pro Max\",\n        image: \"https://store.storeimages.cdn-apple.com/4668/as-images.apple.com/is/iphone-11-pro-select-2019-family_GEO_EMEA?wid=882&amp;hei=1058&amp;fmt=jpeg&amp;qlt=80&amp;op_usm=0.5,0.5&amp;.v=1567812929188\",\n        price: 4000.00,\n        category: \"Computer electronics\",\n        inStock: true,\n        description: [\"Apple device\", \"Great smartphone\", \"Runs iOS\", \"Great build quality\", \"Great Camera\"],\n        condition: \"New\",\n        currency: \"GHC\"\n    },\n    {\n        id: \"1234569\",\n        name: \"Microsoft Surface Duo\",\n        image: \"https://cdn.vox-cdn.com/thumbor/bX8IzXC5O0uKPCLwIYBPnnXi_bg=/0x0:6000x6000/1200x0/filters:focal(0x0:6000x6000):no_upscale()/cdn.vox-cdn.com/uploads/chorus_asset/file/21729329/Feature_006_Text.jpg\",\n        price: 5000.00,\n        category: \"Computer electronics\",\n        inStock: true,\n        description: [\"Microsoft Surface device\", \"Dual Screen\", \"Runs Android\", \"Good for productivity\"],\n        condition: \"New\",\n        currency: \"GHC\"\n    },\n    {\n        id: \"1234570\",\n        name: \"Microsoft Surface Headphones 2\",\n        image: \"https://cdn.vox-cdn.com/thumbor/VjbdHgfj-61DunbYKXVF7RR_jEQ=/1400x1400/filters:format(jpeg)/cdn.vox-cdn.com/uploads/chorus_asset/file/19993344/C0E84DFF_8EB1_403C_9CA6_B8B7FF1B8EEF.jpeg\",\n        price: 1500.00,\n        category: \"Noise Cancelling Headphones\",\n        inStock: true,\n        description: [\"Microsoft Surface device\", \"Noise cancelling headphones\", \"Great build quality\", \"Great sound\"],\n        condition: \"New\",\n        currency: \"GHC\"\n    },\n    {\n        id: \"1234571\",\n        name: \"Sony WH-1000XM4\",\n        image: \"https://cdn0.vox-cdn.com/hermano/verge/product/image/9373/image__17_.png\",\n        price: 1800.00,\n        category: \"Noise Cancelling Headphones\",\n        inStock: true,\n        description: [\"Sony device\", \"Best active noise cancellation\", \"Long-lasting battery life\", \"Great sound\"],\n        condition: \"New\",\n        currency: \"GHC\"\n    },\n    {\n        id: \"1234572\",\n        name: \"Apple Airpods Pro\",\n        image: \"https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/MWP22_AV1?wid=1144&hei=1144&fmt=jpeg&qlt=80&op_usm=0.5,0.5&.v=1591634652000\",\n        price: 1000.00,\n        category: \"Noise cancelling earbuds\",\n        inStock: true,\n        description: [\"Apple device\", \"Active noise cancellation\", \"Great sound\", \"Great fit\"],\n        condition: \"New\",\n        currency: \"GHC\"\n    },\n    {\n        id: \"1234573\",\n        name: \"Apple Watch Series 5\",\n        image: \"https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/MWUR2_VW_PF+watch-40-alum-gold-cell-5s_VW_PF_WF_CO?wid=1400&hei=1400&trim=1,0&fmt=p-jpg&qlt=80&op_usm=0.5,0.5&.v=1566450019949,1569365646259\",\n        price: 2000.00,\n        category: \"Computer electronics\",\n        inStock: true,\n        description: [\"Apple device\", \"Great screen\", \"Great fit\", \"Great battery life\"],\n        condition: \"New\",\n        currency: \"GHC\"\n    },\n    {\n        id: \"1234574\",\n        name: 'Apple Macbook Pro 16\"',\n        image: \"https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/mbp16touch-space-select-201911?wid=1808&hei=1686&fmt=jpeg&qlt=80&.v=1572825197207\",\n        price: 11120.00,\n        category: \"Computer electronics\",\n        inStock: true,\n        description: [\"Apple device\", \"Great build\", \"Great performance\", \"Great typing experience\"],\n        condition: \"New\",\n        currency: \"GHC\"\n    },\n    {\n        id: \"1234575\",\n        name: \"Microsoft Surface Book 3\",\n        image: \"https://cdn.shopify.com/s/files/1/0036/4806/1509/products/m100001532_29f95740-7a5e-4aae-8845-2c0911ff5ba0_1000x1000@2x.jpg?v=1588852855\",\n        price: 10000,\n        category: \"Computer electronics\",\n        inStock: true,\n        description: [\"Microsoft Surface device\", \"Detachable screen\", \"Great build quality\", \"Great typing experience\"],\n        condition: \"New\",\n        currency: \"GHC\"\n    }\n]","import React, { useState, useEffect, useContext } from 'react';\nimport styled from 'styled-components';\nimport { Card, Button } from 'react-bootstrap';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { products } from '../../data/products';\nimport { MdAddShoppingCart, MdRemoveShoppingCart, MdAddCircle } from 'react-icons/md';\nimport ProductContext from '../../context/product-context';\nimport AuthContext from '../../context/auth-context';\n\n\nconst { Img, Text, Subtitle, Title, Body } = Card;\n\nconst MainWrapper = styled.div`\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    box-sizing: border-box;\n`;\n\nconst ProductDetails = styled(Card)`\n    display: flex;\n    flex-flow: row nowrap;\n    width: 80%;\n\n    @media screen and (max-width: 768px){\n        flex-flow: column wrap\n    }\n`;\n\nconst ProductImage = styled(Img)`\n    @media screen and (max-width: 768px){\n        width: 100%;\n    }\n`;\nconst ProductName = styled(Title)``;\nconst ProductPrice = styled.span``;\nconst ProductCategory = styled.span``;\nconst ProductDescriptionWrapper = styled.div``;\nconst ProductDescriptionList = styled.ul``;\nconst ProductDescritpionListItem = styled.li``;\nconst ProductStatus = styled.span``;\nconst ProductCondition = styled.span``;\nconst ProductActions = styled.div`\n    width: 60%;\n    display: flex;\n    flex-flow: column wrap;\n`;\n\nconst ActionButton = styled(Button)`\n    margin: 0.5rem 0;\n`;\n\nconst ViewProduct = () => {\n\n    const { productId } = useParams();\n    const { addToCart, cartItems, removeFromCart, addToWishlist } = useContext(ProductContext);\n    const { token } = useContext(AuthContext);\n    const history = useHistory();\n\n    const [productInformation] = products.filter(product => {\n        return product.id === productId;\n    });\n\n    const handleAddToCart = productId => {\n        if (!token) {\n            history.push('/auth');\n            return;\n        }\n        addToCart(productId);\n    }\n\n\n    const handleRemoveFromCart = productId => {\n        removeFromCart(productId);\n    }\n\n    const handleAddToWishlist = productId => {\n        addToWishlist(productId);\n    }\n\n    return (\n        <MainWrapper>\n            <h2 className=\"ml-5 font-weight-bolder\">Product Details</h2>\n            <ProductDetails>\n                <ProductImage src={productInformation.image} variant=\"left\" width=\"600\" />\n                <Body className=\"d-flex flex-column\">\n                    <ProductName className=\"font-weight-bolder\">{productInformation.name}</ProductName>\n                    <ProductPrice>\n                        <span>{productInformation.currency}</span>\n                        {productInformation.price}\n                    </ProductPrice>\n                    <ProductCategory>\n                        {productInformation.category}\n                    </ProductCategory>\n                    <ProductCondition>\n                        <span>Condition: </span>\n                        {productInformation.condition}\n                    </ProductCondition>\n                    <ProductStatus className={productInformation.inStock ? \"text-success\" : \"text-danger\"}>\n                        {productInformation.inStock ? \"In stock\" : \"Out of stock\"}\n                    </ProductStatus>\n                    <ProductDescriptionWrapper className=\"mt-3\">\n                        <Subtitle className=\"font-weight-bolder\">About this product</Subtitle>\n                        <ProductDescriptionList>\n                            {\n                                productInformation.description.map((listItem, index) => {\n                                    return (\n                                        <ProductDescritpionListItem key={index}>\n                                            {listItem}\n                                        </ProductDescritpionListItem>\n                                    )\n                                })\n                            }\n                        </ProductDescriptionList>\n                    </ProductDescriptionWrapper>\n                    <ProductActions>\n                        <ActionButton variant=\"primary\" onClick={() => handleAddToCart(productInformation.id)}>\n                            <MdAddShoppingCart /> Add to Cart\n                            </ActionButton>\n                        <ActionButton\n                            variant=\"danger\"\n                            onClick={() => handleRemoveFromCart(productInformation.id)}\n                            disabled={cartItems.includes(productInformation.id) ? false : true}>\n                            <MdRemoveShoppingCart /> Remove from Cart\n                            </ActionButton>\n                        {\n                            token &&\n                            <ActionButton variant=\"secondary\" onClick={() => handleAddToWishlist(productInformation.id)}>\n                                <MdAddCircle /> Add to wishlist\n                            </ActionButton>\n                        }\n\n                    </ProductActions>\n                </Body>\n            </ProductDetails>\n        </MainWrapper>\n    );\n}\n\nexport default ViewProduct;","import React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport { Card, Button } from 'react-bootstrap';\nimport ProductContext from '../context/product-context';\n\nconst { Img } = Card\n\nconst CartItemWrapper = styled(Card)`\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: center;\n`;\n\nconst ItemImage = styled(Img)``;\n\nconst ItemDetailsWrapper = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n`;\n\nconst ItemName = styled.span``;\n\nconst ItemStatus = styled.span``;\n\nconst ItemUnitPrice = styled.span``;\nconst Actions = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n`;\n\nconst RemoveButton = styled(Button)``;\n\nconst CartItem = ({ product }) => {\n\n    const { removeFromCart } = useContext(ProductContext);\n\n    const handleRemove = productId => {\n        removeFromCart(productId);\n    }\n    return (\n        <CartItemWrapper className=\"my-2\">\n            <ItemImage src={product.image} variant=\"left\" width=\"180\" height=\"180\" />\n            <Card.Body>\n                <ItemDetailsWrapper className=\"\">\n                    <Card.Title>\n                        <ItemName>{product.name}</ItemName>\n                    </Card.Title>\n                    <ItemStatus className={product.inStock ? \"text-success\" : \"text-danger\"}>\n                        {product.inStock ? \"In stock\" : \"Out of stock\"}\n                    </ItemStatus>\n\n                    <ItemUnitPrice><span>Unit Price: GHC </span>{product.price}</ItemUnitPrice>\n                    <Actions className=\"\">\n                        <RemoveButton variant=\"danger\" onClick={() => handleRemove(product.id)}>\n                            Remove\n                        </RemoveButton>\n                    </Actions>\n                </ItemDetailsWrapper>\n            </Card.Body>\n        </CartItemWrapper>\n    );\n}\n\nexport default CartItem;","import React, { useState, useEffect, useContext, useRef } from 'react';\nimport styled from 'styled-components';\nimport ProductContext from '../../context/product-context';\nimport CartItem from '../../components/CartItem';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport { MdShoppingCart, MdRemoveShoppingCart } from 'react-icons/md';\n\n\n\nconst CartWrapper = styled.div`\n    display: flex;\n    flex-flow: column nowrap;\n    width: 100%;\n    justify-content: center;\n`;\n\nconst CartAndActionsWrapper = styled.div`\n    display: flex;\n    flex-direction: row;\n\n    @media screen and (max-width: 768px){\n        flex-flow: column wrap;\n    }\n`;\n\nconst CartItemsView = styled.div`\n    width: 70%;\n    justify-content: center;\n\n    @media screen and (max-width: 768px){\n        width: 80%\n    }\n`;\n\nconst ActionsView = styled.div`\n    width: 20%;\n\n    @media screen and (max-width: 768px){\n        width: 100%;\n    }\n`;\n\nconst CheckoutButton = styled(Button)``;\nconst ClearButton = styled(Button)``;\n\nconst Cart = () => {\n    const [items, setItems] = useState([]);\n    const [totalAmount, setTotalAmount] = useState(null);\n    const [checkedOut, setCheckedOut] = useState(false);\n    const [show, setShow] = useState(false);\n\n    const cardDetailsEl = useRef();\n\n\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n\n\n    const { cartItems, products, clearCart, checkout } = useContext(ProductContext);\n\n    useEffect(() => {\n        const itemsToDisplay = cartItems\n            .map(item => {\n                return products.filter(product => {\n                    return item === product.id;\n                })\n            })\n            .map(item => {\n                return item[0];\n            })\n\n        setItems([...itemsToDisplay]);\n\n        const totalAmount = itemsToDisplay.reduce((acc, current) => {\n            return acc + current.price\n        }, 0);\n\n        setTotalAmount(totalAmount);\n\n    }, [cartItems]);\n\n    const handleClearCart = () => {\n        clearCart();\n    }\n\n    const handleCheckout = () => {\n        const cardDetails = cardDetailsEl.current.value;\n        const currentDate = new Date();\n        const dataToSave = {\n            date: currentDate,\n            items: [...items],\n            cardDetails,\n            totalAmount\n        }\n\n        checkout(dataToSave);\n        setCheckedOut(true);\n        setShow(false);\n\n        setTimeout(() => {\n            setCheckedOut(false);\n            clearCart();\n        }, 5000)\n    }\n\n    return (\n        <CartWrapper className=\"\">\n            <h2 className=\"ml-5 font-weight-bolder\">Cart Items</h2>\n\n            <CartAndActionsWrapper>\n                <CartItemsView className=\"ml-5\">\n                    {\n                        items.length !== 0\n                            ? items.map((item, index) => {\n                                return <CartItem key={index} product={item} />\n                            })\n                            : <div>\n                                <h5 className=\"text-muted\">Nothing to see here</h5>\n                            </div>\n                    }\n                </CartItemsView>\n                <ActionsView className=\"ml-2 p-2\">\n                    <div>Total Amount: GHC {totalAmount}</div>\n                    <div className=\"d-flex flex-row\">\n                        <CheckoutButton\n                            className=\"mr-2\"\n                            onClick={handleShow}\n                            disabled={items.length !== 0 ? false : true}>\n                            <MdShoppingCart /> Checkout\n                        </CheckoutButton >\n                        <ClearButton\n                            variant=\"danger\"\n                            disabled={items.length !== 0 ? false : true}\n                            onClick={handleClearCart}>\n                            <MdRemoveShoppingCart /> Clear Cart\n                        </ClearButton>\n                    </div>\n                    {\n                        checkedOut &&\n                        <Alert variant=\"success\" className=\"mt-3\">Items Checked out</Alert>\n                    }\n                </ActionsView>\n\n                <Form onSubmit={handleCheckout}>\n                    <Modal show={show} onHide={handleClose}>\n                        <Modal.Header closeButton>\n                            <Modal.Title>Checking out</Modal.Title>\n                        </Modal.Header>\n                        <Modal.Body>\n                            <Form.Label>Enter Card Details</Form.Label>\n                            <Form.Control type=\"text\" ref={cardDetailsEl} />\n                        </Modal.Body>\n                        <Modal.Footer>\n                            <Button variant=\"secondary\" onClick={handleClose}>\n                                Close\n                        </Button>\n                            <Button variant=\"primary\" onClick={handleCheckout}>\n                                Checkout\n                        </Button>\n                        </Modal.Footer>\n                    </Modal>\n                </Form>\n            </CartAndActionsWrapper>\n        </CartWrapper>\n    );\n}\n\nexport default Cart;","import React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport { Card, Button } from 'react-bootstrap';\nimport ProductContext from '../context/product-context';\n\nconst { Img } = Card\n\nconst WishlistItemWrapper = styled(Card)`\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: center;\n`;\n\nconst ItemImage = styled(Img)``;\n\nconst ItemDetailsWrapper = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n`;\n\nconst ItemName = styled.span``;\n\nconst ItemStatus = styled.span``;\n\nconst ItemUnitPrice = styled.span``;\nconst Actions = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n`;\n\nconst RemoveButton = styled(Button)``;\n\nconst WishlistItem = ({ product }) => {\n\n    const { removeFromWishlist } = useContext(ProductContext);\n\n    const handleRemove = productId => {\n        removeFromWishlist(productId);\n    }\n    return (\n        <WishlistItemWrapper className=\"my-2\">\n            <ItemImage src={product.image} variant=\"left\" width=\"180\" height=\"180\" />\n            <Card.Body>\n                <ItemDetailsWrapper className=\"\">\n                    <Card.Title>\n                        <ItemName>{product.name}</ItemName>\n                    </Card.Title>\n                    <ItemStatus className={product.inStock ? \"text-success\" : \"text-danger\"}>\n                        {product.inStock ? \"In stock\" : \"Out of stock\"}\n                    </ItemStatus>\n\n                    <ItemUnitPrice><span>Unit Price: GHC </span>{product.price}</ItemUnitPrice>\n                    <Actions className=\"\">\n                        <RemoveButton variant=\"danger\" onClick={() => handleRemove(product.id)}>\n                            Remove\n                        </RemoveButton>\n                    </Actions>\n                </ItemDetailsWrapper>\n            </Card.Body>\n        </WishlistItemWrapper>\n    );\n}\n\nexport default WishlistItem;","import React, { useState, useEffect, useContext } from 'react';\nimport styled from 'styled-components';\nimport ProductContext from '../../context/product-context';\nimport WishlistItem from '../../components/WishlistItem';\nimport { Button, Alert } from 'react-bootstrap';\nimport { FaTrash } from 'react-icons/fa'\n\n\nconst WishlistWrapper = styled.div`\n    display: flex;\n    flex-flow: column nowrap;\n    width: 100%;\n    justify-content: center;\n`;\n\nconst WishlistAndActionsWrapper = styled.div`\n    display: flex;\n    flex-direction: row;\n\n    @media screen and (max-width: 768px){\n        flex-flow: column wrap;\n    }\n`;\n\nconst WishlistItemsView = styled.div`\n    width: 70%;\n    justify-content: center;\n\n    @media screen and (max-width: 768px){\n        width: 80%\n    }\n`;\n\nconst ActionsView = styled.div`\n    width: 20%;\n\n    @media screen and (max-width: 768px){\n        width: 90%;\n    }\n`;\nconst ClearButton = styled(Button)``;\n\n\nconst WishlistPage = () => {\n    const [items, setItems] = useState([]);\n    const [wishlistCleared, setWishlistCleared] = useState(false);\n    const { wishlist, products, clearWishlist } = useContext(ProductContext);\n\n    useEffect(() => {\n        const itemsToDisplay = wishlist\n            .map(item => {\n                return products.filter(product => {\n                    return item === product.id;\n                })\n            })\n            .map(item => {\n                return item[0];\n            })\n\n        setItems([...itemsToDisplay]);\n\n\n    }, [wishlist]);\n\n    const handleClearWishlist = () => {\n        clearWishlist();\n        setWishlistCleared(true);\n\n        setTimeout(() => {\n            setWishlistCleared(false);\n        }, 5000)\n    }\n\n    return (\n        <WishlistWrapper className=\"\">\n            <h2 className=\"ml-5 font-weight-bolder\">Your Wishlist</h2>\n\n            <WishlistAndActionsWrapper>\n                <WishlistItemsView className=\"ml-5\">\n                    {\n                        items.length !== 0\n                            ?\n                            items.map((item, index) => {\n                                return <WishlistItem key={index} product={item} />\n                            })\n                            : <div>\n                                <h5 className=\"text-muted\">Nothing to see here</h5>\n                            </div>\n                    }\n                </WishlistItemsView>\n                <ActionsView className=\"ml-2 p-2\">\n                    <div className=\"d-flex flex-column\">\n                        <ClearButton\n                            variant=\"danger\"\n                            disabled={items.length !== 0 ? false : true}\n                            onClick={() => handleClearWishlist()}>\n                            <FaTrash /> Clear Wishlist\n                        </ClearButton>\n                    </div>\n\n                    {\n                        wishlistCleared &&\n                        <Alert variant=\"success\" className=\"mt-3\">Wishlist Cleared</Alert>\n                    }\n                </ActionsView>\n\n            </WishlistAndActionsWrapper>\n        </WishlistWrapper>\n    );\n}\n\nexport default WishlistPage;","const formatDate = (dateObject, year = false) => {\n    const date = new Date(dateObject);\n\n    const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"];\n    const months = [\n        \"January\",\n        \"February\",\n        \"March\",\n        \"April\",\n        \"May\",\n        \"June\",\n        \"July\",\n        \"August\",\n        \"September\",\n        \"October\",\n        \"November\",\n        \"December\"\n    ];\n\n    const day = date.getDay();\n    const dayDate = date.getDate();\n    const month = date.getMonth();\n    const fullYear = date.getFullYear();\n\n    let dateString = \"\";\n\n    if (year) {\n        dateString = `${days[day]}, ${months[month]} ${dayDate}, ${fullYear}`;\n        return dateString;\n    }\n\n    dateString = `${days[day]}, ${months[month]} ${dayDate}`;\n    return dateString;\n}\n\nexport default formatDate;","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Card } from 'react-bootstrap';\nimport formatDate from '../helpers/formatDate';\n\nconst HistoryItemWrapper = styled(Card)`\n    width: 100%;\n`;\n\nconst PurchaseDate = styled.div``;\nconst CardDetails = styled.div``;\nconst ItemsPurchasedWrapper = styled.div``;\nconst ItemsPurchasedList = styled.ul``;\nconst ListItem = styled.li``;\nconst TotalAmount = styled.div``;\n\nconst HistoryItem = ({ purchaseHistory }) => {\n    return (\n        <HistoryItemWrapper className=\"my-2\">\n            <Card.Body>\n                <PurchaseDate>\n                    <span className=\"font-weight-bolder\">Purchase Date: </span>\n                    {\n                        formatDate(purchaseHistory.date)\n                    }\n                </PurchaseDate>\n                <CardDetails>\n                    <span className=\"font-weight-bolder\">Card Used: </span>{purchaseHistory.cardDetails}\n                </CardDetails>\n                <ItemsPurchasedWrapper>\n                    <span className=\"font-weight-bolder\">Items Purchased</span>\n                    <ItemsPurchasedList>\n                        {\n                            purchaseHistory.items.map((item, index) => {\n                                return <ListItem key={index}>\n                                    {\n                                        item.name\n                                    }\n                                </ListItem>\n                            })\n                        }\n                    </ItemsPurchasedList>\n                </ItemsPurchasedWrapper>\n                <TotalAmount>\n                    <span className=\"font-weight-bolder\">Total Amount: GHC </span>\n                    {\n                        purchaseHistory.totalAmount\n                    }\n                </TotalAmount>\n            </Card.Body>\n        </HistoryItemWrapper>\n    );\n}\n\nexport default HistoryItem;","import React, { useContext, useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport ProductContext from '../../context/product-context';\nimport HistoryItem from '../../components/HistoryItem';\nimport { Button, Alert } from 'react-bootstrap';\nimport { FaTrash } from 'react-icons/fa'\n\nconst HistoryWrapper = styled.div`\n    display: flex;\n    width: 100%;\n    flex-flow: column nowrap;\n`;\n\nconst MainView = styled.div`\n    display: flex;\n    flex-flow: row nowrap;\n\n    @media screen and (max-width: 768px){\n        flex-flow: column nowrap;\n    }\n`;\n\nconst HistoryView = styled.div`\n    display: flex;\n    flex-flow: column nowrap;\n    width: 70%;\n`;\n\n\nconst ActionsView = styled.div`\n    width: 20%;\n\n    @media screen and (max-width: 768px){\n        width: 90%;\n    }\n`;\n\nconst ClearButton = styled(Button)``;\n\n\n\nconst PurchaseHistory = () => {\n    const [historyCleared, setHistoryCleared] = useState(false);\n    const { history, clearHistory } = useContext(ProductContext);\n    const [purchaseHistory, setPurchaseHistory] = useState([]);\n\n    useEffect(() => {\n        setPurchaseHistory([...history]);\n    }, [history]);\n\n    const handleClearHistory = () => {\n        clearHistory();\n        setHistoryCleared(true);\n\n        setTimeout(() => {\n            setHistoryCleared(false);\n        }, 5000)\n    }\n\n    return (\n        <HistoryWrapper>\n            <h2 className=\"ml-5 font-weight-bolder\">Your Purchase History</h2>\n            <MainView>\n                <HistoryView className=\"ml-5\">\n                    {\n                        purchaseHistory.length !== 0\n                            ?\n                            purchaseHistory.map(historyItem => {\n                                return <HistoryItem purchaseHistory={historyItem} />\n                            })\n                            : <div>\n                                <h5 className=\"text-muted\">Nothing to see here</h5>\n                            </div>\n                    }\n                </HistoryView>\n                <ActionsView className=\"ml-2 p-2\">\n                    <div className=\"d-flex flex-column\">\n                        <ClearButton\n                            variant=\"danger\"\n                            onClick={handleClearHistory}\n                            disabled={history.length !== 0 ? false : true}>\n                            <FaTrash /> Clear History\n                        </ClearButton>\n                    </div>\n                    {\n                        historyCleared &&\n                        <Alert variant=\"success\" className=\"mt-3\">History Cleared</Alert>\n                    }\n                </ActionsView>\n\n            </MainView>\n        </HistoryWrapper>\n    );\n}\n\nexport default PurchaseHistory;","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport AuthPage from './pages/Auth';\nimport RegisterPage from './pages/Register';\nimport MainLayout from './layout/MainLayout';\nimport HomePage from './pages/Main/Home';\nimport ViewProductPage from './pages/Main/ViewProduct';\nimport Cart from './pages/Main/Cart';\nimport AuthContext from './context/auth-context';\nimport ProductContext from './context/product-context';\nimport { products } from './data/products';\nimport WishlistPage from './pages/Main/Wishlist';\nimport PurchaseHistory from './pages/Main/History';\n\nfunction App() {\n  const existingToken = localStorage.getItem('authToken') || null;\n  const existingEmail = localStorage.getItem('authEmail') || null;\n\n  const [data] = useState(products);\n  const [token, setToken] = useState(existingToken);\n  const [userEmail, setUserEmail] = useState(existingEmail);\n  const [cartItems, setCartItems] = useState([]);\n  const [wishlist, setWishlist] = useState([]);\n  const [history, setHistory] = useState([]);\n  const [searchedProducts, setSearchedProducts] = useState([]);\n  const [searchInitiated, setSearchInitiated] = useState(false);\n\n\n  const login = (token, userEmail) => {\n    localStorage.setItem('authToken', token);\n    localStorage.setItem('authEmail', userEmail);\n    setUserEmail(userEmail);\n    setToken(token);\n  }\n\n  const logout = () => {\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('authEmail');\n\n    const userInfo = JSON.parse(localStorage.getItem(userEmail));\n    userInfo.cartItems = [];\n    localStorage.setItem(userEmail, JSON.stringify(userInfo));\n\n    setToken(null);\n    setUserEmail(null);\n  }\n\n  useEffect(() => {\n    const userInfo = JSON.parse(localStorage.getItem(userEmail));\n    if (userInfo) {\n      setCartItems([...userInfo.cartItems]);\n      setWishlist([...userInfo.wishlist]);\n      setHistory([...userInfo.history]);\n    }\n\n    if (!token) {\n      const cartInfo = JSON.parse(sessionStorage.getItem(\"cartItems\"));\n      if (cartInfo) {\n        setCartItems([...cartInfo.cartItems]);\n      }\n    }\n  }, [token]);\n\n  // Service functions\n\n  const addToCart = productId => {\n    setCartItems([productId, ...cartItems]);\n  }\n\n  const removeFromCart = productId => {\n    if (cartItems.length === 1) {\n      setCartItems([]);\n      return;\n    }\n\n    const tempArray = [...cartItems];\n    tempArray.splice(tempArray.indexOf(productId), 1);\n    setCartItems([...tempArray]);\n  }\n\n\n  const search = productSearchString => {\n    setSearchInitiated(true);\n    const productsFound = products.filter(product => {\n      return product.name.toLowerCase().includes(productSearchString.toLowerCase());\n    })\n\n    setSearchedProducts(productsFound);\n  }\n\n  const addToWishlist = productId => {\n    if (wishlist.includes(productId)) {\n      return;\n    }\n    setWishlist([productId, ...wishlist])\n  }\n\n  const removeFromWishlist = productId => {\n    if (wishlist.length === 1) {\n      setWishlist([]);\n      return;\n    }\n\n    const tempArray = [...wishlist];\n    tempArray.splice(tempArray.indexOf(productId), 1);\n    setWishlist([...tempArray]);\n  }\n\n  const clearCart = () => {\n    setCartItems([]);\n  }\n\n  const clearWishlist = () => {\n    setWishlist([]);\n  }\n\n  const checkout = (purchaseData) => {\n    setHistory([purchaseData, ...history]);\n  }\n\n  const clearHistory = () => {\n    setHistory([]);\n  }\n\n  useEffect(() => {\n    if (!token) {\n      const dataToSave = JSON.stringify({\n        cartItems: [...cartItems]\n      });\n\n      sessionStorage.setItem(\"cartItems\", dataToSave);\n      return;\n    }\n\n    const userInfo = JSON.parse(localStorage.getItem(userEmail));\n    userInfo.cartItems = [...cartItems];\n    userInfo.wishlist = [...wishlist];\n    userInfo.history = [...history];\n    localStorage.setItem(userEmail, JSON.stringify(userInfo));\n  }, [cartItems, wishlist, history]);\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <AuthContext.Provider\n          value={{\n            token: token,\n            logout: logout,\n            login: login\n          }}>\n          <ProductContext.Provider\n            value={{\n              addToCart: addToCart,\n              cartItems: cartItems,\n              products: data,\n              search: search,\n              searchedProducts: searchedProducts,\n              searchInitiated: searchInitiated,\n              removeFromCart: removeFromCart,\n              addToWishlist: addToWishlist,\n              wishlist: wishlist,\n              removeFromWishlist: removeFromWishlist,\n              clearCart: clearCart,\n              clearWishlist: clearWishlist,\n              checkout: checkout,\n              history: history,\n              clearHistory: clearHistory\n            }}>\n            <Switch>\n              {\n                token && <Redirect path=\"/auth\" to=\"/home\" />\n              }\n              <Redirect path=\"/\" to=\"/home\" exact />\n              <Route exact path=\"/auth\" component={AuthPage} />\n              <Route exact path=\"/register\" component={RegisterPage} />\n              <Route exact path=\"/home\" render={(props) => (\n                <MainLayout>\n                  <HomePage {...props} />\n                </MainLayout>\n              )} />\n              <Route exact path=\"/product/:productId\" render={props => (\n                <MainLayout>\n                  <ViewProductPage {...props} />\n                </MainLayout>\n              )} />\n              <Route exact path=\"/cart\" render={props => (\n                <MainLayout>\n                  <Cart {...props} />\n                </MainLayout>\n              )} />\n              <Route exact path=\"/wishlist\" render={props => (\n                <MainLayout>\n                  <WishlistPage {...props} />\n                </MainLayout>\n              )} />\n              <Route exact path=\"/history\" render={props => (\n                <MainLayout>\n                  <PurchaseHistory {...props} />\n                </MainLayout>\n              )} />\n            </Switch>\n          </ProductContext.Provider>\n        </AuthContext.Provider>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}